'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
exports.defaultWrapModeT = exports.defaultWrapModeS = exports.defaultMipFilter = exports.defaultMagFilter = exports.defaultMinFilter = void 0;
exports.makeDefaultTextureBaseAssetUserData = makeDefaultTextureBaseAssetUserData;
exports.makeDefaultSpriteFrameBaseAssetUserData = makeDefaultSpriteFrameBaseAssetUserData;
exports.getWrapMode = getWrapMode;
exports.getWrapModeString = getWrapModeString;
exports.getFilter = getFilter;
exports.getFilterString = getFilterString;
exports.applyTextureBaseAssetUserData = applyTextureBaseAssetUserData;
exports.migrateAnisotropy = migrateAnisotropy;
exports.defaultMinFilter = 'linear';
exports.defaultMagFilter = 'linear';
exports.defaultMipFilter = 'none';
exports.defaultWrapModeS = 'repeat';
exports.defaultWrapModeT = 'repeat';
function makeDefaultTextureBaseAssetUserData() {
    return {
        wrapModeS: exports.defaultWrapModeS,
        wrapModeT: exports.defaultWrapModeT,
        minfilter: exports.defaultMinFilter,
        magfilter: exports.defaultMagFilter,
        mipfilter: exports.defaultMipFilter,
        anisotropy: 0,
    };
}
function makeDefaultSpriteFrameBaseAssetUserData() {
    return {
        trimThreshold: 1,
        rotated: false,
        offsetX: 0,
        offsetY: 0,
        trimX: 0,
        trimY: 0,
        width: 80,
        height: 80,
        rawWidth: 80,
        rawHeight: 80,
        borderTop: 0,
        borderBottom: 0,
        borderLeft: 0,
        borderRight: 0,
        packable: true,
        pixelsToUnit: 100,
        pivotX: 0.5,
        pivotY: 0.5,
        meshType: 0,
        vertices: {
            rawPosition: [],
            indexes: [],
            uv: [],
            nuv: [],
            minPos: [],
            maxPos: [],
        },
    };
}
function getWrapMode(wrapMode) {
    switch (wrapMode) {
        // @ts-ignore
        case 'clamp-to-edge':
            return cc.TextureBase.WrapMode.CLAMP_TO_EDGE;
        // @ts-ignore
        case 'repeat':
            return cc.TextureBase.WrapMode.REPEAT;
        // @ts-ignore
        case 'mirrored-repeat':
            return cc.TextureBase.WrapMode.MIRRORED_REPEAT;
    }
}
function getWrapModeString(num) {
    switch (num) {
        // @ts-ignore
        case cc.TextureBase.WrapMode.CLAMP_TO_EDGE:
            return 'clamp-to-edge';
        // @ts-ignore
        case cc.TextureBase.WrapMode.REPEAT:
            return 'repeat';
        // @ts-ignore
        case cc.TextureBase.WrapMode.MIRRORED_REPEAT:
            return 'mirrored-repeat';
    }
}
function getFilter(filter) {
    switch (filter) {
        // @ts-ignore
        case 'nearest':
            return cc.TextureBase.Filter.NEAREST;
        // @ts-ignore
        case 'linear':
            return cc.TextureBase.Filter.LINEAR;
        // @ts-ignore
        case 'none':
            return cc.TextureBase.Filter.NONE;
    }
}
function getFilterString(num) {
    switch (num) {
        // @ts-ignore
        case cc.TextureBase.Filter.NEAREST:
            return 'nearest';
        // @ts-ignore
        case cc.TextureBase.Filter.LINEAR:
            return 'linear';
        // @ts-ignore
        case cc.TextureBase.Filter.NONE:
            return 'none';
    }
}
// @ts-ignore
function applyTextureBaseAssetUserData(userData, texture) {
    texture.setWrapMode(getWrapMode(userData.wrapModeS), getWrapMode(userData.wrapModeT));
    texture.setFilters(getFilter(userData.minfilter), getFilter(userData.magfilter));
    texture.setMipFilter(getFilter(userData.mipfilter));
    texture.setAnisotropy(userData.anisotropy);
}
async function migrateAnisotropy(asset) {
    const userData = asset.userData;
    if (!userData || !userData.anisotropy) {
        return;
    }
    userData.anisotropy = 0;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dHVyZS1iYXNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2NvcmUvYXNzZXRzL2Fzc2V0LWhhbmRsZXIvYXNzZXRzL3RleHR1cmUtYmFzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7OztBQVdiLGtGQVNDO0FBV0QsMEZBOEJDO0FBRUQsa0NBWUM7QUFFRCw4Q0FZQztBQUVELDhCQVlDO0FBRUQsMENBWUM7QUFHRCxzRUFLQztBQUVELDhDQU1DO0FBaElZLFFBQUEsZ0JBQWdCLEdBQVcsUUFBUSxDQUFDO0FBQ3BDLFFBQUEsZ0JBQWdCLEdBQVcsUUFBUSxDQUFDO0FBQ3BDLFFBQUEsZ0JBQWdCLEdBQVcsTUFBTSxDQUFDO0FBQ2xDLFFBQUEsZ0JBQWdCLEdBQWEsUUFBUSxDQUFDO0FBQ3RDLFFBQUEsZ0JBQWdCLEdBQWEsUUFBUSxDQUFDO0FBRW5ELFNBQWdCLG1DQUFtQztJQUMvQyxPQUFPO1FBQ0gsU0FBUyxFQUFFLHdCQUFnQjtRQUMzQixTQUFTLEVBQUUsd0JBQWdCO1FBQzNCLFNBQVMsRUFBRSx3QkFBZ0I7UUFDM0IsU0FBUyxFQUFFLHdCQUFnQjtRQUMzQixTQUFTLEVBQUUsd0JBQWdCO1FBQzNCLFVBQVUsRUFBRSxDQUFDO0tBQ2hCLENBQUM7QUFDTixDQUFDO0FBV0QsU0FBZ0IsdUNBQXVDO0lBQ25ELE9BQU87UUFDSCxhQUFhLEVBQUUsQ0FBQztRQUNoQixPQUFPLEVBQUUsS0FBSztRQUNkLE9BQU8sRUFBRSxDQUFDO1FBQ1YsT0FBTyxFQUFFLENBQUM7UUFDVixLQUFLLEVBQUUsQ0FBQztRQUNSLEtBQUssRUFBRSxDQUFDO1FBQ1IsS0FBSyxFQUFFLEVBQUU7UUFDVCxNQUFNLEVBQUUsRUFBRTtRQUNWLFFBQVEsRUFBRSxFQUFFO1FBQ1osU0FBUyxFQUFFLEVBQUU7UUFDYixTQUFTLEVBQUUsQ0FBQztRQUNaLFlBQVksRUFBRSxDQUFDO1FBQ2YsVUFBVSxFQUFF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U0FBUyxDQUFDLENBQUMsQ0FBQztJQUNwRCxPQUFPLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUMvQyxDQUFDO0FBRU0sS0FBSyxVQUFVLGlCQUFpQixDQUFDLEtBQVk7SUFDaEQsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQW9DLENBQUM7SUFDNUQsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNwQyxPQUFPO0lBQ1gsQ0FBQztJQUNELFFBQVEsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgeyBBc3NldCB9IGZyb20gJ0Bjb2Nvcy9hc3NldC1kYic7XHJcbmltcG9ydCB7IEZpbHRlciwgU3ByaXRlRnJhbWVCYXNlQXNzZXRVc2VyRGF0YSwgVGV4dHVyZUJhc2VBc3NldFVzZXJEYXRhLCBXcmFwTW9kZSB9IGZyb20gJy4uLy4uL0B0eXBlcy91c2VyRGF0YXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRNaW5GaWx0ZXI6IEZpbHRlciA9ICdsaW5lYXInO1xyXG5leHBvcnQgY29uc3QgZGVmYXVsdE1hZ0ZpbHRlcjogRmlsdGVyID0gJ2xpbmVhcic7XHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0TWlwRmlsdGVyOiBGaWx0ZXIgPSAnbm9uZSc7XHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0V3JhcE1vZGVTOiBXcmFwTW9kZSA9ICdyZXBlYXQnO1xyXG5leHBvcnQgY29uc3QgZGVmYXVsdFdyYXBNb2RlVDogV3JhcE1vZGUgPSAncmVwZWF0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlRGVmYXVsdFRleHR1cmVCYXNlQXNzZXRVc2VyRGF0YSgpOiBUZXh0dXJlQmFzZUFzc2V0VXNlckRhdGEge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB3cmFwTW9kZVM6IGRlZmF1bHRXcmFwTW9kZVMsXHJcbiAgICAgICAgd3JhcE1vZGVUOiBkZWZhdWx0V3JhcE1vZGVULFxyXG4gICAgICAgIG1pbmZpbHRlcjogZGVmYXVsdE1pbkZpbHRlcixcclxuICAgICAgICBtYWdmaWx0ZXI6IGRlZmF1bHRNYWdGaWx0ZXIsXHJcbiAgICAgICAgbWlwZmlsdGVyOiBkZWZhdWx0TWlwRmlsdGVyLFxyXG4gICAgICAgIGFuaXNvdHJvcHk6IDAsXHJcbiAgICB9O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU3ByaXRlRnJhbWVWZXJ0aWNlcyB7XHJcbiAgICByYXdQb3NpdGlvbjogbnVtYmVyW107XHJcbiAgICBpbmRleGVzOiBudW1iZXJbXTtcclxuICAgIHV2OiBudW1iZXJbXTtcclxuICAgIG51djogbnVtYmVyW107XHJcbiAgICBtaW5Qb3M6IG51bWJlcltdO1xyXG4gICAgbWF4UG9zOiBudW1iZXJbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VEZWZhdWx0U3ByaXRlRnJhbWVCYXNlQXNzZXRVc2VyRGF0YSgpOiBTcHJpdGVGcmFtZUJhc2VBc3NldFVzZXJEYXRhIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHJpbVRocmVzaG9sZDogMSxcclxuICAgICAgICByb3RhdGVkOiBmYWxzZSxcclxuICAgICAgICBvZmZzZXRYOiAwLFxyXG4gICAgICAgIG9mZnNldFk6IDAsXHJcbiAgICAgICAgdHJpbVg6IDAsXHJcbiAgICAgICAgdHJpbVk6IDAsXHJcbiAgICAgICAgd2lkdGg6IDgwLFxyXG4gICAgICAgIGhlaWdodDogODAsXHJcbiAgICAgICAgcmF3V2lkdGg6IDgwLFxyXG4gICAgICAgIHJhd0hlaWdodDogODAsXHJcbiAgICAgICAgYm9yZGVyVG9wOiAwLFxyXG4gICAgICAgIGJvcmRlckJvdHRvbTogMCxcclxuICAgICAgICBib3JkZXJMZWZ0OiAwLFxyXG4gICAgICAgIGJvcmRlclJpZ2h0OiAwLFxyXG4gICAgICAgIHBhY2thYmxlOiB0cnVlLFxyXG4gICAgICAgIHBpeGVsc1RvVW5pdDogMTAwLFxyXG4gICAgICAgIHBpdm90WDogMC41LFxyXG4gICAgICAgIHBpdm90WTogMC41LFxyXG4gICAgICAgIG1lc2hUeXBlOiAwLFxyXG4gICAgICAgIHZlcnRpY2VzOiB7XHJcbiAgICAgICAgICAgIHJhd1Bvc2l0aW9uOiBbXSxcclxuICAgICAgICAgICAgaW5kZXhlczogW10sXHJcbiAgICAgICAgICAgIHV2OiBbXSxcclxuICAgICAgICAgICAgbnV2OiBbXSxcclxuICAgICAgICAgICAgbWluUG9zOiBbXSxcclxuICAgICAgICAgICAgbWF4UG9zOiBbXSxcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFdyYXBNb2RlKHdyYXBNb2RlOiBXcmFwTW9kZSkge1xyXG4gICAgc3dpdGNoICh3cmFwTW9kZSkge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjYXNlICdjbGFtcC10by1lZGdlJzpcclxuICAgICAgICAgICAgcmV0dXJuIGNjLlRleHR1cmVCYXNlLldyYXBNb2RlLkNMQU1QX1RPX0VER0U7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNhc2UgJ3JlcGVhdCc6XHJcbiAgICAgICAgICAgIHJldHVybiBjYy5UZXh0dXJlQmFzZS5XcmFwTW9kZS5SRVBFQVQ7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNhc2UgJ21pcnJvcmVkLXJlcGVhdCc6XHJcbiAgICAgICAgICAgIHJldHVybiBjYy5UZXh0dXJlQmFzZS5XcmFwTW9kZS5NSVJST1JFRF9SRVBFQVQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRXcmFwTW9kZVN0cmluZyhudW06IG51bWJlcikge1xyXG4gICAgc3dpdGNoIChudW0pIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY2FzZSBjYy5UZXh0dXJlQmFzZS5XcmFwTW9kZS5DTEFNUF9UT19FREdFOlxyXG4gICAgICAgICAgICByZXR1cm4gJ2NsYW1wLXRvLWVkZ2UnO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjYXNlIGNjLlRleHR1cmVCYXNlLldyYXBNb2RlLlJFUEVBVDpcclxuICAgICAgICAgICAgcmV0dXJuICdyZXBlYXQnO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjYXNlIGNjLlRleHR1cmVCYXNlLldyYXBNb2RlLk1JUlJPUkVEX1JFUEVBVDpcclxuICAgICAgICAgICAgcmV0dXJuICdtaXJyb3JlZC1yZXBlYXQnO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsdGVyKGZpbHRlcjogRmlsdGVyKSB7XHJcbiAgICBzd2l0Y2ggKGZpbHRlcikge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjYXNlICduZWFyZXN0JzpcclxuICAgICAgICAgICAgcmV0dXJuIGNjLlRleHR1cmVCYXNlLkZpbHRlci5ORUFSRVNUO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjYXNlICdsaW5lYXInOlxyXG4gICAgICAgICAgICByZXR1cm4gY2MuVGV4dHVyZUJhc2UuRmlsdGVyLkxJTkVBUjtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY2FzZSAnbm9uZSc6XHJcbiAgICAgICAgICAgIHJldHVybiBjYy5UZXh0dXJlQmFzZS5GaWx0ZXIuTk9ORTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbHRlclN0cmluZyhudW06IG51bWJlcikge1xyXG4gICAgc3dpdGNoIChudW0pIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY2FzZSBjYy5UZXh0dXJlQmFzZS5GaWx0ZXIuTkVBUkVTVDpcclxuICAgICAgICAgICAgcmV0dXJuICduZWFyZXN0JztcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY2FzZSBjYy5UZXh0dXJlQmFzZS5GaWx0ZXIuTElORUFSOlxyXG4gICAgICAgICAgICByZXR1cm4gJ2xpbmVhcic7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNhc2UgY2MuVGV4dHVyZUJhc2UuRmlsdGVyLk5PTkU6XHJcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5VGV4dHVyZUJhc2VBc3NldFVzZXJEYXRhKHVzZXJEYXRhOiBUZXh0dXJlQmFzZUFzc2V0VXNlckRhdGEsIHRleHR1cmU6IGNjLlRleHR1cmUyRCkge1xyXG4gICAgdGV4dHVyZS5zZXRXcmFwTW9kZShnZXRXcmFwTW9kZSh1c2VyRGF0YS53cmFwTW9kZVMpLCBnZXRXcmFwTW9kZSh1c2VyRGF0YS53cmFwTW9kZVQpKTtcclxuICAgIHRleHR1cmUuc2V0RmlsdGVycyhnZXRGaWx0ZXIodXNlckRhdGEubWluZmlsdGVyKSwgZ2V0RmlsdGVyKHVzZXJEYXRhLm1hZ2ZpbHRlcikpO1xyXG4gICAgdGV4dHVyZS5zZXRNaXBGaWx0ZXIoZ2V0RmlsdGVyKHVzZXJEYXRhLm1pcGZpbHRlcikpO1xyXG4gICAgdGV4dHVyZS5zZXRBbmlzb3Ryb3B5KHVzZXJEYXRhLmFuaXNvdHJvcHkpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZUFuaXNvdHJvcHkoYXNzZXQ6IEFzc2V0KSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGFzc2V0LnVzZXJEYXRhIGFzIFRleHR1cmVCYXNlQXNzZXRVc2VyRGF0YTtcclxuICAgIGlmICghdXNlckRhdGEgfHwgIXVzZXJEYXRhLmFuaXNvdHJvcHkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB1c2VyRGF0YS5hbmlzb3Ryb3B5ID0gMDtcclxufVxyXG4iXX0=