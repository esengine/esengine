"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.numberDump = void 0;
// 转换数据，防止因为 js 弱类型导致数据类型被更改
class NumberDump {
    encode(object, data, opts) {
        data.value = object;
    }
    decode(data, info, dump, opts) {
        // ENUM 可能是字符串，所以不能强制转成数字
        const t = dump.value - 0;
        if (!isNaN(t)) {
            dump.value = t;
        }
        data[info.key] = dump.value;
    }
}
exports.numberDump = new NumberDump();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnVtYmVyLWR1bXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvY29yZS9zY2VuZS9zY2VuZS1wcm9jZXNzL3NlcnZpY2UvZHVtcC90eXBlcy9udW1iZXItZHVtcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFNQSw0QkFBNEI7QUFDNUIsTUFBTSxVQUFVO0lBQ0wsTUFBTSxDQUFDLE1BQVcsRUFBRSxJQUFlLEVBQUUsSUFBVTtRQUNsRCxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQztJQUN4QixDQUFDO0lBRU0sTUFBTSxDQUFDLElBQVMsRUFBRSxJQUFTLEVBQUUsSUFBUyxFQUFFLElBQVU7UUFDckQseUJBQXlCO1FBQ3pCLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNaLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLENBQUM7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDaEMsQ0FBQztDQUNKO0FBRVksUUFBQSxVQUFVLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgICBJUHJvcGVydHksXHJcbn0gZnJvbSAnLi4vLi4vLi4vLi4vQHR5cGVzL3B1YmxpYyc7XHJcblxyXG5pbXBvcnQgeyBEdW1wSW50ZXJmYWNlIH0gZnJvbSAnLi9kdW1wLWludGVyZmFjZSc7XHJcblxyXG4vLyDovazmjaLmlbDmja7vvIzpmLLmraLlm6DkuLoganMg5byx57G75Z6L5a+86Ie05pWw5o2u57G75Z6L6KKr5pu05pS5XHJcbmNsYXNzIE51bWJlckR1bXAgaW1wbGVtZW50cyBEdW1wSW50ZXJmYWNlIHtcclxuICAgIHB1YmxpYyBlbmNvZGUob2JqZWN0OiBhbnksIGRhdGE6IElQcm9wZXJ0eSwgb3B0cz86IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGRhdGEudmFsdWUgPSBvYmplY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlY29kZShkYXRhOiBhbnksIGluZm86IGFueSwgZHVtcDogYW55LCBvcHRzPzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy8gRU5VTSDlj6/og73mmK/lrZfnrKbkuLLvvIzmiYDku6XkuI3og73lvLrliLbovazmiJDmlbDlrZdcclxuICAgICAgICBjb25zdCB0ID0gZHVtcC52YWx1ZSAtIDA7XHJcbiAgICAgICAgaWYgKCFpc05hTih0KSkge1xyXG4gICAgICAgICAgICBkdW1wLnZhbHVlID0gdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGF0YVtpbmZvLmtleV0gPSBkdW1wLnZhbHVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgbnVtYmVyRHVtcCA9IG5ldyBOdW1iZXJEdW1wKCk7XHJcbiJdfQ==