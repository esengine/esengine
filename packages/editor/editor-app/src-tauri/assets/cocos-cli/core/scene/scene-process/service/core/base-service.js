"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BaseService = void 0;
const global_events_1 = require("./global-events");
class BaseService {
    isOpen = false;
    /**
     * 触发事件
     * @param event 事件名称
     * @param args 事件参数（根据事件类型自动推断）
     */
    emit(event, ...args) {
        global_events_1.ServiceEvents.emit(event, ...args);
    }
    /**
     * 跨进程广播事件
     */
    broadcast(event, ...args) {
        global_events_1.ServiceEvents.broadcast(event, ...args);
    }
    /**
     * 监听事件
     * @param event 事件名称
     * @param listener 事件监听器
     */
    on(event, listener) {
        global_events_1.ServiceEvents.on(event, listener);
    }
    /**
     * 一次性监听事件
     * @param event 事件名称
     * @param listener 事件监听器
     */
    once(event, listener) {
        global_events_1.ServiceEvents.once(event, listener);
    }
    /**
     * 移除事件监听器
     * @param event 事件名称
     * @param listener 事件监听器
     */
    off(event, listener) {
        global_events_1.ServiceEvents.off(event, listener);
    }
    /**
     * 清除事件监听器
     * @param event 事件名称，如果不提供则清除所有
     */
    clear(event) {
        global_events_1.ServiceEvents.clear(event);
    }
}
exports.BaseService = BaseService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2NvcmUvc2NlbmUvc2NlbmUtcHJvY2Vzcy9zZXJ2aWNlL2NvcmUvYmFzZS1zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG1EQUFnRDtBQXNDaEQsTUFBYSxXQUFXO0lBQ1YsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUN6Qjs7OztPQUlHO0lBQ08sSUFBSSxDQUNWLEtBQVEsRUFDUixHQUFHLElBQWdCO1FBRW5CLDZCQUFhLENBQUMsSUFBSSxDQUFDLEtBQWUsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVMsQ0FDTCxLQUFRLEVBQ1IsR0FBRyxJQUFnQjtRQUVuQiw2QkFBYSxDQUFDLFNBQVMsQ0FBQyxLQUFlLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNPLEVBQUUsQ0FDUixLQUFRLEVBQ1IsUUFFbUM7UUFFbkMsNkJBQWEsQ0FBQyxFQUFFLENBQUMsS0FBZSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFFRDs7OztPQUlHO0lBQ08sSUFBSSxDQUNWLEtBQVEsRUFDUixRQUVtQztRQUVuQyw2QkFBYSxDQUFDLElBQUksQ0FBQyxLQUFlLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVEOzs7O09BSUc7SUFDTyxHQUFHLENBQ1QsS0FBUSxFQUNSLFFBRW1DO1FBRW5DLDZCQUFhLENBQUMsR0FBRyxDQUFDLEtBQWUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQ7OztPQUdHO0lBQ08sS0FBSyxDQUFDLEtBQXFCO1FBQ2pDLDZCQUFhLENBQUMsS0FBSyxDQUFDLEtBQWUsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Q0FDSjtBQXpFRCxrQ0F5RUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5vZGUsIENvbXBvbmVudCB9IGZyb20gJ2NjJztcclxuaW1wb3J0IHsgU2VydmljZUV2ZW50cyB9IGZyb20gJy4vZ2xvYmFsLWV2ZW50cyc7XHJcbmltcG9ydCB0eXBlIHsgSUNoYW5nZU5vZGVPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNlcnZpY2VFdmVudHMge1xyXG4gICAgLy8gRWRpdG9yIGV2ZW50c1xyXG4gICAgb25FZGl0b3JPcGVuZWQ/KCk6IHZvaWQ7XHJcbiAgICBvbkVkaXRvclJlbG9hZD8oKTogdm9pZDtcclxuICAgIG9uRWRpdG9yQ2xvc2VkPygpOiB2b2lkO1xyXG4gICAgb25FZGl0b3JTYXZlZD8oKTogdm9pZDtcclxuXHJcbiAgICAvLyBOb2RlIGV2ZW50c1xyXG4gICAgb25Ob2RlQmVmb3JlQ2hhbmdlZD8obm9kZTogTm9kZSk6IHZvaWQ7XHJcbiAgICBvbkJlZm9yZVJlbW92ZU5vZGU/KG5vZGU6IE5vZGUpOiB2b2lkO1xyXG4gICAgb25CZWZvcmVBZGROb2RlPyhub2RlOiBOb2RlKTogdm9pZDtcclxuICAgIG9uTm9kZUNoYW5nZWQ/KG5vZGU6IE5vZGUsIG9wdHM6IElDaGFuZ2VOb2RlT3B0aW9ucyk6IHZvaWQ7XHJcbiAgICBvbkJlZm9yZU5vZGVBZGRlZD8obm9kZTogTm9kZSk6IHZvaWQ7XHJcbiAgICBvbkFkZE5vZGU/KG5vZGU6IE5vZGUpOiB2b2lkO1xyXG4gICAgb25SZW1vdmVOb2RlPyhub2RlOiBOb2RlKTogdm9pZDtcclxuICAgIG9uTm9kZUFkZGVkPyhub2RlOiBOb2RlKTogdm9pZDtcclxuICAgIG9uTm9kZVJlbW92ZWQ/KG5vZGU6IE5vZGUpOiB2b2lkO1xyXG5cclxuICAgIC8vIENvbXBvbmVudCBldmVudHNcclxuICAgIG9uQWRkQ29tcG9uZW50Pyhjb21wOiBDb21wb25lbnQpOiB2b2lkO1xyXG4gICAgb25SZW1vdmVDb21wb25lbnQ/KGNvbXA6IENvbXBvbmVudCk6IHZvaWQ7XHJcbiAgICBvblNldFByb3BlcnR5Q29tcG9uZW50Pyhjb21wOiBDb21wb25lbnQpOiB2b2lkO1xyXG4gICAgb25Db21wb25lbnRBZGRlZD8oY29tcDogQ29tcG9uZW50KTogdm9pZDtcclxuICAgIG9uQ29tcG9uZW50UmVtb3ZlZD8oY29tcDogQ29tcG9uZW50KTogdm9pZDtcclxuICAgIG9uQmVmb3JlUmVtb3ZlQ29tcG9uZW50Pyhjb21wOiBDb21wb25lbnQpOiB2b2lkO1xyXG5cclxuICAgIC8vIEFzc2V0IGV2ZW50c1xyXG4gICAgb25Bc3NldERlbGV0ZWQ/KHV1aWQ6IHN0cmluZyk6IHZvaWQ7XHJcbiAgICBvbkFzc2V0Q2hhbmdlZD8odXVpZDogc3RyaW5nKTogdm9pZDtcclxuICAgIG9uQXNzZXRSZWZyZXNoZWQ/KHV1aWQ6IHN0cmluZyk6IHZvaWQ7XHJcblxyXG4gICAgLy8gU2NyaXB0IGV2ZW50c1xyXG4gICAgb25TY3JpcHRFeGVjdXRpb25GaW5pc2hlZD8oKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VTZXJ2aWNlPFRFdmVudHMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+PiB7XHJcbiAgICBwcm90ZWN0ZWQgaXNPcGVuID0gZmFsc2U7XHJcbiAgICAvKipcclxuICAgICAqIOinpuWPkeS6i+S7tlxyXG4gICAgICogQHBhcmFtIGV2ZW50IOS6i+S7tuWQjeensFxyXG4gICAgICogQHBhcmFtIGFyZ3Mg5LqL5Lu25Y+C5pWw77yI5qC55o2u5LqL5Lu257G75Z6L6Ieq5Yqo5o6o5pat77yJXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBlbWl0PEsgZXh0ZW5kcyBrZXlvZiBURXZlbnRzPihcclxuICAgICAgICBldmVudDogSyxcclxuICAgICAgICAuLi5hcmdzOiBURXZlbnRzW0tdXHJcbiAgICApIHtcclxuICAgICAgICBTZXJ2aWNlRXZlbnRzLmVtaXQoZXZlbnQgYXMgc3RyaW5nLCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOi3qOi/m+eoi+W5v+aSreS6i+S7tlxyXG4gICAgICovXHJcbiAgICBicm9hZGNhc3Q8SyBleHRlbmRzIGtleW9mIFRFdmVudHM+KFxyXG4gICAgICAgIGV2ZW50OiBLLFxyXG4gICAgICAgIC4uLmFyZ3M6IFRFdmVudHNbS11cclxuICAgICk6IHZvaWQge1xyXG4gICAgICAgIFNlcnZpY2VFdmVudHMuYnJvYWRjYXN0KGV2ZW50IGFzIHN0cmluZywgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnm5HlkKzkuovku7ZcclxuICAgICAqIEBwYXJhbSBldmVudCDkuovku7blkI3np7BcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciDkuovku7bnm5HlkKzlmahcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG9uPEsgZXh0ZW5kcyBrZXlvZiBURXZlbnRzPihcclxuICAgICAgICBldmVudDogSyxcclxuICAgICAgICBsaXN0ZW5lcjogVEV2ZW50c1tLXSBleHRlbmRzIHZvaWQgXHJcbiAgICAgICAgICAgID8gKCkgPT4gdm9pZCBcclxuICAgICAgICAgICAgOiAocGF5bG9hZDogVEV2ZW50c1tLXSkgPT4gdm9pZFxyXG4gICAgKSB7XHJcbiAgICAgICAgU2VydmljZUV2ZW50cy5vbihldmVudCBhcyBzdHJpbmcsIGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4gOasoeaAp+ebkeWQrOS6i+S7tlxyXG4gICAgICogQHBhcmFtIGV2ZW50IOS6i+S7tuWQjeensFxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIOS6i+S7tuebkeWQrOWZqFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgb25jZTxLIGV4dGVuZHMga2V5b2YgVEV2ZW50cz4oXHJcbiAgICAgICAgZXZlbnQ6IEssXHJcbiAgICAgICAgbGlzdGVuZXI6IFRFdmVudHNbS10gZXh0ZW5kcyB2b2lkIFxyXG4gICAgICAgICAgICA/ICgpID0+IHZvaWQgXHJcbiAgICAgICAgICAgIDogKHBheWxvYWQ6IFRFdmVudHNbS10pID0+IHZvaWRcclxuICAgICkge1xyXG4gICAgICAgIFNlcnZpY2VFdmVudHMub25jZShldmVudCBhcyBzdHJpbmcsIGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOenu+mZpOS6i+S7tuebkeWQrOWZqFxyXG4gICAgICogQHBhcmFtIGV2ZW50IOS6i+S7tuWQjeensFxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIOS6i+S7tuebkeWQrOWZqFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgb2ZmPEsgZXh0ZW5kcyBrZXlvZiBURXZlbnRzPihcclxuICAgICAgICBldmVudDogSyxcclxuICAgICAgICBsaXN0ZW5lcjogVEV2ZW50c1tLXSBleHRlbmRzIHZvaWQgXHJcbiAgICAgICAgICAgID8gKCkgPT4gdm9pZCBcclxuICAgICAgICAgICAgOiAocGF5bG9hZDogVEV2ZW50c1tLXSkgPT4gdm9pZFxyXG4gICAgKSB7XHJcbiAgICAgICAgU2VydmljZUV2ZW50cy5vZmYoZXZlbnQgYXMgc3RyaW5nLCBsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmuIXpmaTkuovku7bnm5HlkKzlmahcclxuICAgICAqIEBwYXJhbSBldmVudCDkuovku7blkI3np7DvvIzlpoLmnpzkuI3mj5DkvpvliJnmuIXpmaTmiYDmnIlcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGNsZWFyKGV2ZW50Pzoga2V5b2YgVEV2ZW50cykge1xyXG4gICAgICAgIFNlcnZpY2VFdmVudHMuY2xlYXIoZXZlbnQgYXMgc3RyaW5nKTtcclxuICAgIH1cclxufVxyXG4iXX0=