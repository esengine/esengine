"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.compressJson = compressJson;
/**
 * 将 key 提取到单个文件内
 * @param {*} json
 */
function compressJson(json) {
    if (typeof json !== 'object') {
        return json;
    }
    const keyCounter = {};
    let data = json;
    const keysSet = new Set();
    let keys = [];
    if (Array.isArray(json)) {
        collectArrayKey(json, keyCounter, keysSet);
        if (keysSet.size < 1) {
            return data;
        }
        keys = Array.from(keys);
        data = renameArrayJson(json, keys);
    }
    else {
        collectObjectKey(json, keyCounter, keysSet);
        if (keysSet.size < 1) {
            return data;
        }
        keys = Array.from(keysSet);
        data = renameObjectJson(json, keys);
    }
    return {
        keys,
        data,
    };
}
/**
 * 对 json 数据的 key 进行提取
 */
function renameObjectJson(object, keys) {
    if (!object) {
        return object;
    }
    const result = Object.create(null);
    Object.keys(object).forEach((key) => {
        let newKey = key;
        // 纯数字的关键帧也需要记录进 keys 里
        if (/^\d$/.test(key)) {
            keys.push(key);
        }
        const index = keys.indexOf(key);
        if (index !== -1) {
            newKey = index;
        }
        if (object[key] && typeof (object[key]) === 'object') {
            if (Array.isArray(object[key])) {
                result[newKey] = renameArrayJson(object[key], keys);
            }
            else {
                result[newKey] = renameObjectJson(object[key], keys);
            }
        }
        else {
            result[newKey] = object[key];
        }
    });
    return result;
}
/**
 * 根据收集的 key 信息，重命名 json 里的 key
 * @param {*} arr
 * @param {*} keys
 * @param {*} keyCounter
 */
function renameArrayJson(arr, keys) {
    if (!arr) {
        return arr;
    }
    return arr.map((item) => {
        if (item && typeof (item) === 'object') {
            if (Array.isArray(item)) {
                return renameArrayJson(item, keys);
            }
            return renameObjectJson(item, keys);
        }
        return item;
    });
}
function collectObjectKey(object, keyCounter, keys) {
    if (!object) {
        return;
    }
    Object.keys(object).forEach((key) => {
        if (object[key] === null || object[key] === undefined) {
            return;
        }
        if (keyCounter[key]) {
            keys.add(key);
        }
        else {
            keyCounter[key] = 1;
        }
        if (typeof (object[key]) === 'object') {
            if (Array.isArray(object[key])) {
                collectArrayKey(object[key], keyCounter, keys);
            }
            else {
                collectObjectKey(object[key], keyCounter, keys);
            }
        }
    });
}
function collectArrayKey(arr, keyCounter, keys) {
    if (!arr) {
        return;
    }
    arr.forEach((item) => {
        if (item && typeof (item) === 'object') {
            if (Array.isArray(item)) {
                collectArrayKey(item, keyCounter, keys);
            }
            else {
                collectObjectKey(item, keyCounter, keys);
            }
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcHJlc3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvY29yZS9idWlsZGVyL3dvcmtlci9idWlsZGVyL3V0aWxzL2NvbXByZXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBSUEsb0NBMkJDO0FBL0JEOzs7R0FHRztBQUNILFNBQWdCLFlBQVksQ0FBQyxJQUFTO0lBQ2xDLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFLENBQUM7UUFDM0IsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUNELE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztJQUN0QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7SUFDaEIsTUFBTSxPQUFPLEdBQWdCLElBQUksR0FBRyxFQUFFLENBQUM7SUFDdkMsSUFBSSxJQUFJLEdBQWEsRUFBRSxDQUFDO0lBQ3hCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ3RCLGVBQWUsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzNDLElBQUksT0FBTyxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNuQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBQ0QsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEIsSUFBSSxHQUFHLGVBQWUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdkMsQ0FBQztTQUFNLENBQUM7UUFDSixnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzVDLElBQUksT0FBTyxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNuQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBQ0QsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFD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LENBQUM7WUFDN0MsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5bCGIGtleSDmj5Dlj5bliLDljZXkuKrmlofku7blhoVcclxuICogQHBhcmFtIHsqfSBqc29uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29tcHJlc3NKc29uKGpzb246IGFueSkge1xyXG4gICAgaWYgKHR5cGVvZiBqc29uICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgfVxyXG4gICAgY29uc3Qga2V5Q291bnRlciA9IHt9O1xyXG4gICAgbGV0IGRhdGEgPSBqc29uO1xyXG4gICAgY29uc3Qga2V5c1NldDogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XHJcbiAgICBsZXQga2V5czogc3RyaW5nW10gPSBbXTtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XHJcbiAgICAgICAgY29sbGVjdEFycmF5S2V5KGpzb24sIGtleUNvdW50ZXIsIGtleXNTZXQpO1xyXG4gICAgICAgIGlmIChrZXlzU2V0LnNpemUgPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBrZXlzID0gQXJyYXkuZnJvbShrZXlzKTtcclxuICAgICAgICBkYXRhID0gcmVuYW1lQXJyYXlKc29uKGpzb24sIGtleXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb2xsZWN0T2JqZWN0S2V5KGpzb24sIGtleUNvdW50ZXIsIGtleXNTZXQpO1xyXG4gICAgICAgIGlmIChrZXlzU2V0LnNpemUgPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBrZXlzID0gQXJyYXkuZnJvbShrZXlzU2V0KTtcclxuICAgICAgICBkYXRhID0gcmVuYW1lT2JqZWN0SnNvbihqc29uLCBrZXlzKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAga2V5cyxcclxuICAgICAgICBkYXRhLFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICog5a+5IGpzb24g5pWw5o2u55qEIGtleSDov5vooYzmj5Dlj5ZcclxuICovXHJcbmZ1bmN0aW9uIHJlbmFtZU9iamVjdEpzb24ob2JqZWN0OiBhbnksIGtleXM6IHN0cmluZ1tdKSB7XHJcbiAgICBpZiAoIW9iamVjdCkge1xyXG4gICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBsZXQgbmV3S2V5OiBzdHJpbmcgfCBudW1iZXIgPSBrZXk7XHJcbiAgICAgICAgLy8g57qv5pWw5a2X55qE5YWz6ZSu5bin5Lmf6ZyA6KaB6K6w5b2V6L+bIGtleXMg6YeMXHJcbiAgICAgICAgaWYgKC9eXFxkJC8udGVzdChrZXkpKSB7XHJcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpbmRleCA9IGtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbmV3S2V5ID0gaW5kZXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYmplY3Rba2V5XSAmJiB0eXBlb2YgKG9iamVjdFtrZXldKSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0W2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRbbmV3S2V5XSA9IHJlbmFtZUFycmF5SnNvbihvYmplY3Rba2V5XSwga2V5cyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRbbmV3S2V5XSA9IHJlbmFtZU9iamVjdEpzb24ob2JqZWN0W2tleV0sIGtleXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0W25ld0tleV0gPSBvYmplY3Rba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmoLnmja7mlLbpm4bnmoQga2V5IOS/oeaBr++8jOmHjeWRveWQjSBqc29uIOmHjOeahCBrZXlcclxuICogQHBhcmFtIHsqfSBhcnJcclxuICogQHBhcmFtIHsqfSBrZXlzXHJcbiAqIEBwYXJhbSB7Kn0ga2V5Q291bnRlclxyXG4gKi9cclxuZnVuY3Rpb24gcmVuYW1lQXJyYXlKc29uKGFycjogYW55W10sIGtleXM6IHN0cmluZ1tdKTogYW55W10ge1xyXG4gICAgaWYgKCFhcnIpIHtcclxuICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyci5tYXAoKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChpdGVtICYmIHR5cGVvZiAoaXRlbSkgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuYW1lQXJyYXlKc29uKGl0ZW0sIGtleXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZW5hbWVPYmplY3RKc29uKGl0ZW0sIGtleXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb2xsZWN0T2JqZWN0S2V5KG9iamVjdDogYW55LCBrZXlDb3VudGVyOiBhbnksIGtleXM6IFNldDxzdHJpbmc+KSB7XHJcbiAgICBpZiAoIW9iamVjdCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKG9iamVjdFtrZXldID09PSBudWxsIHx8IG9iamVjdFtrZXldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoa2V5Q291bnRlcltrZXldKSB7XHJcbiAgICAgICAgICAgIGtleXMuYWRkKGtleSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAga2V5Q291bnRlcltrZXldID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiAob2JqZWN0W2tleV0pID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3Rba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbGxlY3RBcnJheUtleShvYmplY3Rba2V5XSwga2V5Q291bnRlciwga2V5cyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0T2JqZWN0S2V5KG9iamVjdFtrZXldLCBrZXlDb3VudGVyLCBrZXlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb2xsZWN0QXJyYXlLZXkoYXJyOiBhbnlbXSwga2V5Q291bnRlcjogYW55LCBrZXlzOiBTZXQ8c3RyaW5nPikge1xyXG4gICAgaWYgKCFhcnIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBhcnIuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGlmIChpdGVtICYmIHR5cGVvZiAoaXRlbSkgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0QXJyYXlLZXkoaXRlbSwga2V5Q291bnRlciwga2V5cyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0T2JqZWN0S2V5KGl0ZW0sIGtleUNvdW50ZXIsIGtleXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuIl19