"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function $({ types }, options) {
    if (!options || !options.name) {
        throw new Error('\'name\' options is required.');
    }
    return {
        visitor: {
            CallExpression: (path) => {
                if (types.isMemberExpression(path.node.callee) &&
                    types.isIdentifier(path.node.callee.object) && path.node.callee.object.name === 'System' &&
                    types.isIdentifier(path.node.callee.property) && path.node.callee.property.name === 'register' &&
                    path.node.arguments.length === 2) {
                    path.node.arguments.unshift(types.stringLiteral(options.name));
                }
            },
        },
    };
}
exports.default = $;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG8tbmFtZWQtcmVnaXN0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvY29yZS9idWlsZGVyL3dvcmtlci9idWlsZGVyL3V0aWxzL3RvLW5hbWVkLXJlZ2lzdGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsU0FBUyxDQUFDLENBQ04sRUFBRSxLQUFLLEVBQWdCLEVBQ3ZCLE9BQWtCO0lBRWxCLElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDNUIsTUFBTSxJQUFJLEtBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFRCxPQUFPO1FBQ0gsT0FBTyxFQUFFO1lBQ0wsY0FBYyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7Z0JBQ3JCLElBQUksS0FBSyxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO29CQUMxQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssUUFBUTtvQkFDeEYsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLFVBQVU7b0JBQzlGLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztvQkFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ25FLENBQUM7WUFDTCxDQUFDO1NBQ0o7S0FDSixDQUFDO0FBQ04sQ0FBQztBQVFELGtCQUFlLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlICogYXMgYmFiZWwgZnJvbSAnQGJhYmVsL2NvcmUnO1xyXG5cclxuZnVuY3Rpb24gJChcclxuICAgIHsgdHlwZXMgfTogdHlwZW9mIGJhYmVsLFxyXG4gICAgb3B0aW9uczogJC5PcHRpb25zLFxyXG4pOiBiYWJlbC5QbHVnaW5PYmoge1xyXG4gICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLm5hbWUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1xcJ25hbWVcXCcgb3B0aW9ucyBpcyByZXF1aXJlZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZpc2l0b3I6IHtcclxuICAgICAgICAgICAgQ2FsbEV4cHJlc3Npb246IChwYXRoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZXMuaXNNZW1iZXJFeHByZXNzaW9uKHBhdGgubm9kZS5jYWxsZWUpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZXMuaXNJZGVudGlmaWVyKHBhdGgubm9kZS5jYWxsZWUub2JqZWN0KSAmJiBwYXRoLm5vZGUuY2FsbGVlLm9iamVjdC5uYW1lID09PSAnU3lzdGVtJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVzLmlzSWRlbnRpZmllcihwYXRoLm5vZGUuY2FsbGVlLnByb3BlcnR5KSAmJiBwYXRoLm5vZGUuY2FsbGVlLnByb3BlcnR5Lm5hbWUgPT09ICdyZWdpc3RlcicgJiZcclxuICAgICAgICAgICAgICAgICAgICBwYXRoLm5vZGUuYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGgubm9kZS5hcmd1bWVudHMudW5zaGlmdCh0eXBlcy5zdHJpbmdMaXRlcmFsKG9wdGlvbnMubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcblxyXG5uYW1lc3BhY2UgJCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIE9wdGlvbnMge1xyXG4gICAgICAgIG5hbWU6IHN0cmluZztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgJDtcclxuIl19