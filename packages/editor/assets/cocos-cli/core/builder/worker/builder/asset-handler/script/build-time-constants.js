"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCCEnvConstants = getCCEnvConstants;
const ccbuild_1 = require("@cocos/ccbuild");
async function getCCEnvConstants(options, engineRoot) {
    const statsQuery = await ccbuild_1.StatsQuery.create(engineRoot);
    return statsQuery.constantManager.genCCEnvConstants({
        mode: 'BUILD',
        platform: options.platform,
        flags: options.flags ?? {},
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGQtdGltZS1jb25zdGFudHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvY29yZS9idWlsZGVyL3dvcmtlci9idWlsZGVyL2Fzc2V0LWhhbmRsZXIvc2NyaXB0L2J1aWxkLXRpbWUtY29uc3RhbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBZUEsOENBT0M7QUFyQkQsNENBQTRDO0FBY3JDLEtBQUssVUFBVSxpQkFBaUIsQ0FBQyxPQUE2QixFQUFFLFVBQWtCO0lBQ3JGLE1BQU0sVUFBVSxHQUFHLE1BQU0sb0JBQVUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDdkQsT0FBTyxVQUFVLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDO1FBQ2hELElBQUksRUFBRSxPQUFPO1FBQ2IsUUFBUSxFQUFFLE9BQU8sQ0FBQyxRQUF3QjtRQUMxQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUssSUFBSSxFQUFFO0tBQzdCLENBQUMsQ0FBQztBQUNQLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgU3RhdHNRdWVyeSB9IGZyb20gJ0Bjb2Nvcy9jY2J1aWxkJztcclxuaW1wb3J0IENvbnN0YW50TWFuYWdlciA9IFN0YXRzUXVlcnkuQ29uc3RhbnRNYW5hZ2VyO1xyXG50eXBlIFBsYXRmb3JtVHlwZSA9IENvbnN0YW50TWFuYWdlci5QbGF0Zm9ybVR5cGU7XHJcbnR5cGUgQnVpbGRUaW1lQ29uc3RhbnRzID0gQ29uc3RhbnRNYW5hZ2VyLkJ1aWxkVGltZUNvbnN0YW50cztcclxudHlwZSBDQ0VudkNvbnN0YW50cyA9IENvbnN0YW50TWFuYWdlci5DQ0VudkNvbnN0YW50cztcclxudHlwZSBJQnVpbGRUaW1lQ29uc3RhbnRWYWx1ZSA9IFN0YXRzUXVlcnkuQ29uc3RhbnRNYW5hZ2VyLlZhbHVlVHlwZTtcclxuXHJcbmV4cG9ydCB7IEJ1aWxkVGltZUNvbnN0YW50cywgQ0NFbnZDb25zdGFudHMgfTtcclxuXHJcbmludGVyZmFjZSBCdWlsZENvbnN0YW50c09wdGlvbiB7XHJcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm1UeXBlIHwgc3RyaW5nO1xyXG4gICAgZmxhZ3M6IFJlY29yZDxzdHJpbmcsIElCdWlsZFRpbWVDb25zdGFudFZhbHVlPjtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENDRW52Q29uc3RhbnRzKG9wdGlvbnM6IEJ1aWxkQ29uc3RhbnRzT3B0aW9uLCBlbmdpbmVSb290OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHN0YXRzUXVlcnkgPSBhd2FpdCBTdGF0c1F1ZXJ5LmNyZWF0ZShlbmdpbmVSb290KTtcclxuICAgIHJldHVybiBzdGF0c1F1ZXJ5LmNvbnN0YW50TWFuYWdlci5nZW5DQ0VudkNvbnN0YW50cyh7XHJcbiAgICAgICAgbW9kZTogJ0JVSUxEJyxcclxuICAgICAgICBwbGF0Zm9ybTogb3B0aW9ucy5wbGF0Zm9ybSBhcyBQbGF0Zm9ybVR5cGUsXHJcbiAgICAgICAgZmxhZ3M6IG9wdGlvbnMuZmxhZ3MgPz8ge30sXHJcbiAgICB9KTtcclxufVxyXG4iXX0=