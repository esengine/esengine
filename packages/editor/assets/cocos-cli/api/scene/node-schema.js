"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SchemaNodeCreateByType = exports.SchemaNodeCreateByAsset = exports.SchemaNodeDelete = exports.SchemaNodeDeleteResult = exports.SchemaNodeUpdateResult = exports.SchemaNodeUpdate = exports.SchemaNodeQueryResult = exports.SchemaNodeQuery = exports.SchemaNodeSearch = exports.SchemaNode = exports.SchemaNodeProperty = void 0;
const zod_1 = require("zod");
const scene_1 = require("../../core/scene");
const schema_value_types_1 = require("../base/schema-value-types");
const schema_identifier_1 = require("../base/schema-identifier");
const prefab_info_schema_1 = require("./prefab-info-schema");
// 节点属性的 schema，
exports.SchemaNodeProperty = zod_1.z.object({
    position: schema_value_types_1.SchemaVec3.describe('Node position'), // 节点位置
    // worldPosition: Vec3Schema.describe('节点位置'),
    rotation: schema_value_types_1.SchemaQuat.describe('Node rotation, quaternion'), // 节点旋转, 四元数
    // worldRotation: QuatSchema.describe('节点旋转, 四元数'),
    eulerAngles: schema_value_types_1.SchemaVec3.describe('Node rotation, Euler angles'), // 节点旋转，欧拉角
    // angle: z.number().describe('本地坐标系下的旋转，用欧拉角表示，但是限定在 z 轴上'),
    scale: schema_value_types_1.SchemaVec3.describe('Node scale'), // 节点缩放
    // worldScale: Vec3Schema.describe('节点缩放'),
    // worldMatrix: Mat4Schema.describe('节点的世界变换矩阵'),
    // forward: Vec3Schema.describe('节点的前方向向量, 默认前方为 -z 方向'),
    // up: Vec3Schema.describe('当前节点在世界空间中朝上的方向向量'),
    // right: Vec3Schema.describe('当前节点在世界空间中朝右的方向向量'),
    mobility: zod_1.z.number().describe('Node mobility, static means static node, movable means movable node, Stationary means fixed node'), // 节点的移动性，static 表示静态节点，movable 表示可移动节点, Stationary 固定节点
    layer: zod_1.z.number().describe('The layer the node belongs to'), // 节点所在的层级
    // hasChangedFlags: z.number().describe('这个节点的空间变换信息在当前帧内是否有变过？'),
    active: zod_1.z.boolean().describe('Whether the node is active'), // 节点是否激活
    // activeInHierarchy: z.boolean().readonly().describe('节点在场景中是否激活'),
});
exports.SchemaNode = schema_identifier_1.SchemaNodeIdentifier.extend({
    properties: exports.SchemaNodeProperty.describe('Node properties'), // 节点属性
    prefab: zod_1.z.union([prefab_info_schema_1.SchemaPrefabInfo, zod_1.z.null()]).describe('Prefab information'), // 预制体信息
    children: zod_1.z.array(zod_1.z.lazy(() => exports.SchemaNode)).default([]).describe('List of child nodes'), // 子节点列表
    components: zod_1.z.array(schema_identifier_1.SchemaComponentIdentifier).default([]).describe('List of components on the node'), // 节点上的组件列表
});
// 查询节点的参数
exports.SchemaNodeSearch = schema_identifier_1.SchemaNodeIdentifier.extend({
    deeps: zod_1.z.number().default(10).describe('Query depth'), // 查询的深度
    queryChildren: zod_1.z.boolean().default(false).describe('Whether to query child node information'), // 是否查询子节点信息
}).describe('Query options for nodes, the result is the intersection of the passed information'); // 查询节点的选项参数，查询结果是传入的信息的交集
// 查询节点的参数
exports.SchemaNodeQuery = zod_1.z.object({
    path: zod_1.z.string().describe('Node path'), // 节点路径
    queryChildren: zod_1.z.boolean().default(false).describe('Whether to query child node information'), // 是否查询子节点信息
}).describe('Query options for nodes, the result is the intersection of the passed information'); // 查询节点的选项参数，查询结果是传入的信息的交集
// 查询节点的结果
exports.SchemaNodeQueryResult = exports.SchemaNode;
//节点更新的参数
exports.SchemaNodeUpdate = zod_1.z.object({
    path: zod_1.z.string().describe('Relative path of the node'), // 节点相对路径
    name: zod_1.z.string().optional().describe('Name of the node to update'), // 更新的节点名称
    properties: exports.SchemaNodeProperty.partial().optional().describe('Node properties to update, can update partial properties'), // 要更新的节点属性，可以只更新部分属性
}).describe('Options for updating nodes'); // 更新节点的选项参数
// 节点更新结果的 schema
exports.SchemaNodeUpdateResult = zod_1.z.object({
    path: zod_1.z.string().describe('Relative path of the node'), // 节点相对路径
});
// 节点删除结果的 schema
exports.SchemaNodeDeleteResult = zod_1.z.object({
    path: zod_1.z.string().describe('Node path'), // 节点路径
});
// 删除节点的参数
exports.SchemaNodeDelete = zod_1.z.object({
    path: zod_1.z.string().describe('Relative path of the node'), // 节点相对路径
    keepWorldTransform: zod_1.z.boolean().optional().describe('Keep world transform'), // 保持世界变换
}).describe('Options for deleting nodes'); // 删除节点的选项参数
const SchemaNodeCreateBase = zod_1.z.object({
    path: zod_1.z.string().describe('Relative path of the created node, root node is scene node; This path is parent node path, full node path is parent path + node name, and root node path is "/"'), // 创建的节点相对路径，根节点是场景节点; 该路径为父节点路径,完整节点路径为父路径+节点名，根节点路径为 "/"
    name: zod_1.z.string().optional().describe('Name of the node, if not passed, the system will default a name'), // 节点的名称，不传，系统会默认一个名字
    workMode: zod_1.z.enum(['2d', '3d']).optional().describe('Node work mode, 2D or 3D; same nodeType may support both 2d and 3d'), // 节点工作模式，2D 还是 3D; 同一个 nodeType 有些支持2d也支持3d
    keepWorldTransform: zod_1.z.boolean().optional().describe('Keep world transform'), // 保持世界变换
    position: schema_value_types_1.SchemaVec3.optional().describe('Node position'), // 节点位置
    canvasRequired: zod_1.z.boolean().optional().describe('Whether Canvas is required'), // 是否需要 Canvas
});
exports.SchemaNodeCreateByAsset = SchemaNodeCreateBase.extend({
    dbURL: zod_1.z.string().describe('Prefab asset path, if created from a prefab, please pass this parameter, format is custom db path e.g. db://assets/abc.prefab'), // 预制体资源路径，如果是从某个预制体创建，请传入这个参数，格式为自定义的db 路径比如 db://assets/abc.prefab
});
exports.SchemaNodeCreateByType = SchemaNodeCreateBase.extend({
    nodeType: zod_1.z.enum(Object.values(scene_1.NodeType)).describe('Node type'), // 节点类型
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZS1zY2hlbWEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvYXBpL3NjZW5lL25vZGUtc2NoZW1hLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZCQUF3QjtBQUV4Qiw0Q0FBeUQ7QUFFekQsbUVBQW9FO0FBQ3BFLGlFQUE0RjtBQUM1Riw2REFBd0Q7QUFFeEQsZ0JBQWdCO0FBQ0gsUUFBQSxrQkFBa0IsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3ZDLFFBQVEsRUFBRSwrQkFBVSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsRUFBRSxPQUFPO0lBQ3ZELDhDQUE4QztJQUM5QyxRQUFRLEVBQUUsK0JBQVUsQ0FBQyxRQUFRLENBQUMsMkJBQTJCLENBQUMsRUFBRSxZQUFZO0lBQ3hFLG1EQUFtRDtJQUNuRCxXQUFXLEVBQUUsK0JBQVUsQ0FBQyxRQUFRLENBQUMsNkJBQTZCLENBQUMsRUFBRSxXQUFXO0lBQzVFLDZEQUE2RDtJQUM3RCxLQUFLLEVBQUUsK0JBQVUsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEVBQUUsT0FBTztJQUNqRCwyQ0FBMkM7SUFDM0MsaURBQWlEO0lBQ2pELHlEQUF5RDtJQUN6RCxnREFBZ0Q7SUFDaEQsbURBQW1EO0lBQ25ELFFBQVEsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLGtHQUFrRyxDQUFDLEVBQUUsd0RBQXdEO0lBQzNMLEtBQUssRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLCtCQUErQixDQUFDLEVBQUUsVUFBVTtJQUN2RSxrRUFBa0U7SUFDbEUsTUFBTSxFQUFFLE9BQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsNEJBQTRCLENBQUMsRUFBRSxTQUFTO0lBQ3JFLG9FQUFvRTtDQUN2RSxDQUFDLENBQUM7QUFFVSxRQUFBLFVBQVUsR0FBcUIsd0NBQW9CLENBQUMsTUFBTSxDQUFDO0lBQ3BFLFVB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LENBQUMsQ0FBQztBQUVVLFFBQUEsc0JBQXNCLEdBQUcsb0JBQW9CLENBQUMsTUFBTSxDQUFDO0lBQzlELFFBQVEsRUFBRSxPQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQVEsQ0FBMEIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsRUFBRSxPQUFPO0NBQ3BHLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xyXG5cclxuaW1wb3J0IHsgSVByZWZhYkluZm8sIE5vZGVUeXBlIH0gZnJvbSAnLi4vLi4vY29yZS9zY2VuZSc7XHJcbmltcG9ydCB7IElOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9zY2VuZSc7XHJcbmltcG9ydCB7IFNjaGVtYVF1YXQsIFNjaGVtYVZlYzMgfSBmcm9tICcuLi9iYXNlL3NjaGVtYS12YWx1ZS10eXBlcyc7XHJcbmltcG9ydCB7IFNjaGVtYU5vZGVJZGVudGlmaWVyLCBTY2hlbWFDb21wb25lbnRJZGVudGlmaWVyIH0gZnJvbSAnLi4vYmFzZS9zY2hlbWEtaWRlbnRpZmllcic7XHJcbmltcG9ydCB7IFNjaGVtYVByZWZhYkluZm8gfSBmcm9tICcuL3ByZWZhYi1pbmZvLXNjaGVtYSc7XHJcblxyXG4vLyDoioLngrnlsZ7mgKfnmoQgc2NoZW1h77yMXHJcbmV4cG9ydCBjb25zdCBTY2hlbWFOb2RlUHJvcGVydHkgPSB6Lm9iamVjdCh7XHJcbiAgICBwb3NpdGlvbjogU2NoZW1hVmVjMy5kZXNjcmliZSgnTm9kZSBwb3NpdGlvbicpLCAvLyDoioLngrnkvY3nva5cclxuICAgIC8vIHdvcmxkUG9zaXRpb246IFZlYzNTY2hlbWEuZGVzY3JpYmUoJ+iKgueCueS9jee9ricpLFxyXG4gICAgcm90YXRpb246IFNjaGVtYVF1YXQuZGVzY3JpYmUoJ05vZGUgcm90YXRpb24sIHF1YXRlcm5pb24nKSwgLy8g6IqC54K55peL6L2sLCDlm5vlhYPmlbBcclxuICAgIC8vIHdvcmxkUm90YXRpb246IFF1YXRTY2hlbWEuZGVzY3JpYmUoJ+iKgueCueaXi+i9rCwg5Zub5YWD5pWwJyksXHJcbiAgICBldWxlckFuZ2xlczogU2NoZW1hVmVjMy5kZXNjcmliZSgnTm9kZSByb3RhdGlvbiwgRXVsZXIgYW5nbGVzJyksIC8vIOiKgueCueaXi+i9rO+8jOasp+aLieinklxyXG4gICAgLy8gYW5nbGU6IHoubnVtYmVyKCkuZGVzY3JpYmUoJ+acrOWcsOWdkOagh+ezu+S4i+eahOaXi+i9rO+8jOeUqOasp+aLieinkuihqOekuu+8jOS9huaYr+mZkOWumuWcqCB6IOi9tOS4iicpLFxyXG4gICAgc2NhbGU6IFNjaGVtYVZlYzMuZGVzY3JpYmUoJ05vZGUgc2NhbGUnKSwgLy8g6IqC54K557yp5pS+XHJcbiAgICAvLyB3b3JsZFNjYWxlOiBWZWMzU2NoZW1hLmRlc2NyaWJlKCfoioLngrnnvKnmlL4nKSxcclxuICAgIC8vIHdvcmxkTWF0cml4OiBNYXQ0U2NoZW1hLmRlc2NyaWJlKCfoioLngrnnmoTkuJbnlYzlj5jmjaLnn6npmLUnKSxcclxuICAgIC8vIGZvcndhcmQ6IFZlYzNTY2hlbWEuZGVzY3JpYmUoJ+iKgueCueeahOWJjeaWueWQkeWQkemHjywg6buY6K6k5YmN5pa55Li6IC16IOaWueWQkScpLFxyXG4gICAgLy8gdXA6IFZlYzNTY2hlbWEuZGVzY3JpYmUoJ+W9k+WJjeiKgueCueWcqOS4lueVjOepuumXtOS4reacneS4iueahOaWueWQkeWQkemHjycpLFxyXG4gICAgLy8gcmlnaHQ6IFZlYzNTY2hlbWEuZGVzY3JpYmUoJ+W9k+WJjeiKgueCueWcqOS4lueVjOepuumXtOS4reacneWPs+eahOaWueWQkeWQkemHjycpLFxyXG4gICAgbW9iaWxpdHk6IHoubnVtYmVyKCkuZGVzY3JpYmUoJ05vZGUgbW9iaWxpdHksIHN0YXRpYyBtZWFucyBzdGF0aWMgbm9kZSwgbW92YWJsZSBtZWFucyBtb3ZhYmxlIG5vZGUsIFN0YXRpb25hcnkgbWVhbnMgZml4ZWQgbm9kZScpLCAvLyDoioLngrnnmoTnp7vliqjmgKfvvIxzdGF0aWMg6KGo56S66Z2Z5oCB6IqC54K577yMbW92YWJsZSDooajnpLrlj6/np7vliqjoioLngrksIFN0YXRpb25hcnkg5Zu65a6a6IqC54K5XHJcbiAgICBsYXllcjogei5udW1iZXIoKS5kZXNjcmliZSgnVGhlIGxheWVyIHRoZSBub2RlIGJlbG9uZ3MgdG8nKSwgLy8g6IqC54K55omA5Zyo55qE5bGC57qnXHJcbiAgICAvLyBoYXNDaGFuZ2VkRmxhZ3M6IHoubnVtYmVyKCkuZGVzY3JpYmUoJ+i/meS4quiKgueCueeahOepuumXtOWPmOaNouS/oeaBr+WcqOW9k+WJjeW4p+WGheaYr+WQpuacieWPmOi/h++8nycpLFxyXG4gICAgYWN0aXZlOiB6LmJvb2xlYW4oKS5kZXNjcmliZSgnV2hldGhlciB0aGUgbm9kZSBpcyBhY3RpdmUnKSwgLy8g6IqC54K55piv5ZCm5r+A5rS7XHJcbiAgICAvLyBhY3RpdmVJbkhpZXJhcmNoeTogei5ib29sZWFuKCkucmVhZG9ubHkoKS5kZXNjcmliZSgn6IqC54K55Zyo5Zy65pmv5Lit5piv5ZCm5r+A5rS7JyksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNjaGVtYU5vZGU6IHouWm9kVHlwZTxJTm9kZT4gPSBTY2hlbWFOb2RlSWRlbnRpZmllci5leHRlbmQoe1xyXG4gICAgcHJvcGVydGllczogU2NoZW1hTm9kZVByb3BlcnR5LmRlc2NyaWJlKCdOb2RlIHByb3BlcnRpZXMnKSwgLy8g6IqC54K55bGe5oCnXHJcbiAgICBwcmVmYWI6IHoudW5pb24oW1NjaGVtYVByZWZhYkluZm8sIHoubnVsbCgpXSkuZGVzY3JpYmUoJ1ByZWZhYiBpbmZvcm1hdGlvbicpLCAvLyDpooTliLbkvZPkv6Hmga9cclxuICAgIGNoaWxkcmVuOiB6LmFycmF5KHoubGF6eSgoKSA9PiBTY2hlbWFOb2RlKSkuZGVmYXVsdChbXSkuZGVzY3JpYmUoJ0xpc3Qgb2YgY2hpbGQgbm9kZXMnKSwgLy8g5a2Q6IqC54K55YiX6KGoXHJcbiAgICBjb21wb25lbnRzOiB6LmFycmF5KFNjaGVtYUNvbXBvbmVudElkZW50aWZpZXIpLmRlZmF1bHQoW10pLmRlc2NyaWJlKCdMaXN0IG9mIGNvbXBvbmVudHMgb24gdGhlIG5vZGUnKSwgLy8g6IqC54K55LiK55qE57uE5Lu25YiX6KGoXHJcbn0pO1xyXG5cclxuLy8g5p+l6K+i6IqC54K555qE5Y+C5pWwXHJcbmV4cG9ydCBjb25zdCBTY2hlbWFOb2RlU2VhcmNoID0gU2NoZW1hTm9kZUlkZW50aWZpZXIuZXh0ZW5kKHtcclxuICAgIGRlZXBzOiB6Lm51bWJlcigpLmRlZmF1bHQoMTApLmRlc2NyaWJlKCdRdWVyeSBkZXB0aCcpLCAvLyDmn6Xor6LnmoTmt7HluqZcclxuICAgIHF1ZXJ5Q2hpbGRyZW46IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLmRlc2NyaWJlKCdXaGV0aGVyIHRvIHF1ZXJ5IGNoaWxkIG5vZGUgaW5mb3JtYXRpb24nKSwgLy8g5piv5ZCm5p+l6K+i5a2Q6IqC54K55L+h5oGvXHJcbn0pLmRlc2NyaWJlKCdRdWVyeSBvcHRpb25zIGZvciBub2RlcywgdGhlIHJlc3VsdCBpcyB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSBwYXNzZWQgaW5mb3JtYXRpb24nKTsgLy8g5p+l6K+i6IqC54K555qE6YCJ6aG55Y+C5pWw77yM5p+l6K+i57uT5p6c5piv5Lyg5YWl55qE5L+h5oGv55qE5Lqk6ZuGXHJcblxyXG4vLyDmn6Xor6LoioLngrnnmoTlj4LmlbBcclxuZXhwb3J0IGNvbnN0IFNjaGVtYU5vZGVRdWVyeSA9IHoub2JqZWN0KHtcclxuICAgIHBhdGg6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ05vZGUgcGF0aCcpLCAvLyDoioLngrnot6/lvoRcclxuICAgIHF1ZXJ5Q2hpbGRyZW46IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLmRlc2NyaWJlKCdXaGV0aGVyIHRvIHF1ZXJ5IGNoaWxkIG5vZGUgaW5mb3JtYXRpb24nKSwgLy8g5piv5ZCm5p+l6K+i5a2Q6IqC54K55L+h5oGvXHJcbn0pLmRlc2NyaWJlKCdRdWVyeSBvcHRpb25zIGZvciBub2RlcywgdGhlIHJlc3VsdCBpcyB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSBwYXNzZWQgaW5mb3JtYXRpb24nKTsgLy8g5p+l6K+i6IqC54K555qE6YCJ6aG55Y+C5pWw77yM5p+l6K+i57uT5p6c5piv5Lyg5YWl55qE5L+h5oGv55qE5Lqk6ZuGXHJcblxyXG4vLyDmn6Xor6LoioLngrnnmoTnu5PmnpxcclxuZXhwb3J0IGNvbnN0IFNjaGVtYU5vZGVRdWVyeVJlc3VsdDogei5ab2RUeXBlPElOb2RlPiA9IFNjaGVtYU5vZGU7XHJcblxyXG4vL+iKgueCueabtOaWsOeahOWPguaVsFxyXG5leHBvcnQgY29uc3QgU2NoZW1hTm9kZVVwZGF0ZSA9IHoub2JqZWN0KHtcclxuICAgIHBhdGg6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1JlbGF0aXZlIHBhdGggb2YgdGhlIG5vZGUnKSwgLy8g6IqC54K555u45a+56Lev5b6EXHJcbiAgICBuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ05hbWUgb2YgdGhlIG5vZGUgdG8gdXBkYXRlJyksIC8vIOabtOaWsOeahOiKgueCueWQjeensFxyXG4gICAgcHJvcGVydGllczogU2NoZW1hTm9kZVByb3BlcnR5LnBhcnRpYWwoKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdOb2RlIHByb3BlcnRpZXMgdG8gdXBkYXRlLCBjYW4gdXBkYXRlIHBhcnRpYWwgcHJvcGVydGllcycpLCAvLyDopoHmm7TmlrDnmoToioLngrnlsZ7mgKfvvIzlj6/ku6Xlj6rmm7TmlrDpg6jliIblsZ7mgKdcclxufSkuZGVzY3JpYmUoJ09wdGlvbnMgZm9yIHVwZGF0aW5nIG5vZGVzJyk7IC8vIOabtOaWsOiKgueCueeahOmAiemhueWPguaVsFxyXG5cclxuLy8g6IqC54K55pu05paw57uT5p6c55qEIHNjaGVtYVxyXG5leHBvcnQgY29uc3QgU2NoZW1hTm9kZVVwZGF0ZVJlc3VsdCA9IHoub2JqZWN0KHtcclxuICAgIHBhdGg6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1JlbGF0aXZlIHBhdGggb2YgdGhlIG5vZGUnKSwgLy8g6IqC54K555u45a+56Lev5b6EXHJcbn0pO1xyXG5cclxuLy8g6IqC54K55Yig6Zmk57uT5p6c55qEIHNjaGVtYVxyXG5leHBvcnQgY29uc3QgU2NoZW1hTm9kZURlbGV0ZVJlc3VsdCA9IHoub2JqZWN0KHtcclxuICAgIHBhdGg6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ05vZGUgcGF0aCcpLCAvLyDoioLngrnot6/lvoRcclxufSk7XHJcblxyXG4vLyDliKDpmaToioLngrnnmoTlj4LmlbBcclxuZXhwb3J0IGNvbnN0IFNjaGVtYU5vZGVEZWxldGUgPSB6Lm9iamVjdCh7XHJcbiAgICBwYXRoOiB6LnN0cmluZygpLmRlc2NyaWJlKCdSZWxhdGl2ZSBwYXRoIG9mIHRoZSBub2RlJyksIC8vIOiKgueCueebuOWvuei3r+W+hFxyXG4gICAga2VlcFdvcmxkVHJhbnNmb3JtOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdLZWVwIHdvcmxkIHRyYW5zZm9ybScpLCAvLyDkv53mjIHkuJbnlYzlj5jmjaJcclxufSkuZGVzY3JpYmUoJ09wdGlvbnMgZm9yIGRlbGV0aW5nIG5vZGVzJyk7IC8vIOWIoOmZpOiKgueCueeahOmAiemhueWPguaVsFxyXG5cclxuY29uc3QgU2NoZW1hTm9kZUNyZWF0ZUJhc2UgPSB6Lm9iamVjdCh7XHJcbiAgICBwYXRoOiB6LnN0cmluZygpLmRlc2NyaWJlKCdSZWxhdGl2ZSBwYXRoIG9mIHRoZSBjcmVhdGVkIG5vZGUsIHJvb3Qgbm9kZSBpcyBzY2VuZSBub2RlOyBUaGlzIHBhdGggaXMgcGFyZW50IG5vZGUgcGF0aCwgZnVsbCBub2RlIHBhdGggaXMgcGFyZW50IHBhdGggKyBub2RlIG5hbWUsIGFuZCByb290IG5vZGUgcGF0aCBpcyBcIi9cIicpLCAvLyDliJvlu7rnmoToioLngrnnm7jlr7not6/lvoTvvIzmoLnoioLngrnmmK/lnLrmma/oioLngrk7IOivpei3r+W+hOS4uueItuiKgueCuei3r+W+hCzlrozmlbToioLngrnot6/lvoTkuLrniLbot6/lvoQr6IqC54K55ZCN77yM5qC56IqC54K56Lev5b6E5Li6IFwiL1wiXHJcbiAgICBuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ05hbWUgb2YgdGhlIG5vZGUsIGlmIG5vdCBwYXNzZWQsIHRoZSBzeXN0ZW0gd2lsbCBkZWZhdWx0IGEgbmFtZScpLCAvLyDoioLngrnnmoTlkI3np7DvvIzkuI3kvKDvvIzns7vnu5/kvJrpu5jorqTkuIDkuKrlkI3lrZdcclxuICAgIHdvcmtNb2RlOiB6LmVudW0oWycyZCcsICczZCddKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdOb2RlIHdvcmsgbW9kZSwgMkQgb3IgM0Q7IHNhbWUgbm9kZVR5cGUgbWF5IHN1cHBvcnQgYm90aCAyZCBhbmQgM2QnKSwgLy8g6IqC54K55bel5L2c5qih5byP77yMMkQg6L+Y5pivIDNEOyDlkIzkuIDkuKogbm9kZVR5cGUg5pyJ5Lqb5pSv5oyBMmTkuZ/mlK/mjIEzZFxyXG4gICAga2VlcFdvcmxkVHJhbnNmb3JtOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdLZWVwIHdvcmxkIHRyYW5zZm9ybScpLCAvLyDkv53mjIHkuJbnlYzlj5jmjaJcclxuICAgIHBvc2l0aW9uOiBTY2hlbWFWZWMzLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ05vZGUgcG9zaXRpb24nKSwgLy8g6IqC54K55L2N572uXHJcbiAgICBjYW52YXNSZXF1aXJlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKS5kZXNjcmliZSgnV2hldGhlciBDYW52YXMgaXMgcmVxdWlyZWQnKSwgLy8g5piv5ZCm6ZyA6KaBIENhbnZhc1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBTY2hlbWFOb2RlQ3JlYXRlQnlBc3NldCA9IFNjaGVtYU5vZGVDcmVhdGVCYXNlLmV4dGVuZCh7XHJcbiAgICBkYlVSTDogei5zdHJpbmcoKS5kZXNjcmliZSgnUHJlZmFiIGFzc2V0IHBhdGgsIGlmIGNyZWF0ZWQgZnJvbSBhIHByZWZhYiwgcGxlYXNlIHBhc3MgdGhpcyBwYXJhbWV0ZXIsIGZvcm1hdCBpcyBjdXN0b20gZGIgcGF0aCBlLmcuIGRiOi8vYXNzZXRzL2FiYy5wcmVmYWInKSwgLy8g6aKE5Yi25L2T6LWE5rqQ6Lev5b6E77yM5aaC5p6c5piv5LuO5p+Q5Liq6aKE5Yi25L2T5Yib5bu677yM6K+35Lyg5YWl6L+Z5Liq5Y+C5pWw77yM5qC85byP5Li66Ieq5a6a5LmJ55qEZGIg6Lev5b6E5q+U5aaCIGRiOi8vYXNzZXRzL2FiYy5wcmVmYWJcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgU2NoZW1hTm9kZUNyZWF0ZUJ5VHlwZSA9IFNjaGVtYU5vZGVDcmVhdGVCYXNlLmV4dGVuZCh7XHJcbiAgICBub2RlVHlwZTogei5lbnVtKE9iamVjdC52YWx1ZXMoTm9kZVR5cGUpIGFzIFtzdHJpbmcsIC4uLnN0cmluZ1tdXSkuZGVzY3JpYmUoJ05vZGUgdHlwZScpLCAvLyDoioLngrnnsbvlnotcclxufSk7XHJcblxyXG4vLyDnsbvlnovlr7zlh7pcclxuZXhwb3J0IHR5cGUgVERlbGV0ZU5vZGVPcHRpb25zID0gei5pbmZlcjx0eXBlb2YgU2NoZW1hTm9kZURlbGV0ZT47XHJcbmV4cG9ydCB0eXBlIFRVcGRhdGVOb2RlT3B0aW9ucyA9IHouaW5mZXI8dHlwZW9mIFNjaGVtYU5vZGVVcGRhdGU+O1xyXG5leHBvcnQgdHlwZSBUQ3JlYXRlTm9kZUJ5QXNzZXRPcHRpb25zID0gei5pbmZlcjx0eXBlb2YgU2NoZW1hTm9kZUNyZWF0ZUJ5QXNzZXQ+O1xyXG5leHBvcnQgdHlwZSBUQ3JlYXRlTm9kZUJ5VHlwZU9wdGlvbnMgPSB6LmluZmVyPHR5cGVvZiBTY2hlbWFOb2RlQ3JlYXRlQnlUeXBlPjtcclxuZXhwb3J0IHR5cGUgVFF1ZXJ5Tm9kZU9wdGlvbnMgPSB6LmluZmVyPHR5cGVvZiBTY2hlbWFOb2RlUXVlcnk+O1xyXG5leHBvcnQgdHlwZSBUTm9kZURldGFpbCA9IHouaW5mZXI8dHlwZW9mIFNjaGVtYU5vZGVRdWVyeVJlc3VsdD47XHJcbmV4cG9ydCB0eXBlIFROb2RlVXBkYXRlUmVzdWx0ID0gei5pbmZlcjx0eXBlb2YgU2NoZW1hTm9kZVVwZGF0ZVJlc3VsdD47XHJcbmV4cG9ydCB0eXBlIFROb2RlRGVsZXRlUmVzdWx0ID0gei5pbmZlcjx0eXBlb2YgU2NoZW1hTm9kZURlbGV0ZVJlc3VsdD47XHJcbmV4cG9ydCB0eXBlIFROb2RlID0gei5pbmZlcjx0eXBlb2YgU2NoZW1hTm9kZT47Il19