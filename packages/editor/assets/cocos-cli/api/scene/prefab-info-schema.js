"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SchemaPrefabInfo = exports.SchemaPrefab = exports.SchemaTargetOverrideInfo = exports.SchemaCompPrefabInfo = exports.SchemaPrefabInstance = exports.SchemaMountedComponentsInfo = exports.SchemaPropertyOverrideInfo = exports.SchemaMountedChildrenInfo = exports.SchemaTargetInfo = exports.SchemaOptimizationPolicy = void 0;
const zod_1 = require("zod");
const schema_identifier_1 = require("../base/schema-identifier");
// First define basic schema // 首先定义基础 schema
exports.SchemaOptimizationPolicy = zod_1.z.number().describe('Optimization Policy, AUTO: 0, SINGLE_INSTANCE: 1, MULTI_INSTANCE: 1'); // 优化策略，AUTO: 0，SINGLE_INSTANCE: 1，MULTI_INSTANCE：1
exports.SchemaTargetInfo = zod_1.z.object({
    localID: zod_1.z.array(zod_1.z.string()).describe('Array composed of fileId'), // 由 fileId 组成的数组
}).describe('Used to define target information within the prefab'); // 用来定义预制体内目标的信息
exports.SchemaMountedChildrenInfo = zod_1.z.object({
    targetInfo: exports.SchemaTargetInfo.nullable().describe('Parent node info, corresponding to the actual node mounted in the prefab'), // 父节点信息，对应预制体中被挂载的实际节点
    nodes: zod_1.z.array(schema_identifier_1.SchemaNodeIdentifier).describe('Mounted nodes array'), // 挂载节点数组
}).describe('Mounted children information'); // 挂载的子节点信息
exports.SchemaPropertyOverrideInfo = zod_1.z.object({
    targetInfo: exports.SchemaTargetInfo.nullable().describe('Target info, used to find target node or component'), // 目标信息，用于查找目标节点或组件
    propertyPath: zod_1.z.array(zod_1.z.string()).describe('Property path'), // 属性的路径
    value: zod_1.z.any().describe('Actual value of property type'), // 属性类型的实际值
}).describe('Records property override information for prefab instances'); // 记录预制体实例对属性的覆盖信息
exports.SchemaMountedComponentsInfo = zod_1.z.object({
    targetInfo: exports.SchemaTargetInfo.nullable().describe('Parent node info, corresponding to the actual node mounted in the prefab'), // 父节点信息，对应预制体中被挂载的实际节点
    components: zod_1.z.array(schema_identifier_1.SchemaComponentIdentifier).describe('Mounted components array'), // 挂载组件数组
}).describe('Information of components on prefab instance that do not belong to prefab assets'); // 预制体实例上，不属于预制体资源的组件的信息
exports.SchemaPrefabInstance = zod_1.z.object({
    fileId: zod_1.z.string().describe('Used to uniquely identify a PrefabInstance, used for propertyOverride index lookup'), // 用于唯一标识一个 PrefabInstance，用于 propertyOverride 的索引查找
    prefabRootNode: schema_identifier_1.SchemaNodeIdentifier.optional().describe('Records the Root node info of the external Prefab on nested prefabs. E.g. PrefabA -> PrefabB, this field of B points to PrefabA node'), // 在嵌套的预制体上会记录其外部的 Prefab 的 Root 节点信息。比如 PrefabA -> PrefabB，B 的这个字段就指向 PrefabA 节点
    mountedChildren: zod_1.z.array(exports.SchemaMountedChildrenInfo).describe('Node data existing on prefab instance but not in prefab assets. E.g. creating prefab A, adding nodes to A or its children, will be recorded here'), // 存在于预制体实例上的，不属于预制体资源中的节点数据,比如创建预制体 A，往 A 或其子节点上，添加的节点，都会记录在这里
    mountedComponents: zod_1.z.array(exports.SchemaMountedComponentsInfo).describe('Component data existing on prefab instance but not in prefab assets. E.g. creating prefab A, adding components to A or its children, will be recorded here'), // 存在于预制体实例上的，不属于预制体资源中的组件数据,比如创建预制体A，往A或其子节点上，添加的组件，都会记录在这里
    propertyOverrides: zod_1.z.array(exports.SchemaPropertyOverrideInfo).describe('Saves all property override data for Prefab. When loading prefab, nodes are created based on assets first, then overridden properties are rewritten'), // 保存所有对 Prefab 的属性覆写数据，预制体加载时会先根据资源创建节点，再把覆盖的属性重写掉
    removedComponents: zod_1.z.array(exports.SchemaTargetInfo).describe('Removed component assets array. When removing components originally in prefab assets, data is saved here. Instead of referencing components directly, component location is recorded via TargetInfo'), // 移除的组件资源数组,把预制体资源内原本有的组件移除掉时，数据保存在这里，不是直接引用组件，而是通过 TargetInfo 记录组件的位置
}).describe('Instance object created from prefab assets, abbreviated as prefab instance'); // 预制体资源创建的实例对象，简称预制体实例
exports.SchemaCompPrefabInfo = zod_1.z.object({
    fileId: zod_1.z.string().describe('Records component id, unique in prefab file; used when looking up component via targetInfo'), // 记录组件的 id，在预制体文件中唯一；用于 targetInfo 查找组件时使用
}).describe('Component prefab information'); // 组件预制体信息
exports.SchemaTargetOverrideInfo = zod_1.z.object({
    source: zod_1.z.union([schema_identifier_1.SchemaComponentIdentifier, schema_identifier_1.SchemaNodeIdentifier, zod_1.z.null()]).describe('Referenced node or component'), // 引用的节点或组件
    sourceInfo: exports.SchemaTargetInfo.nullable().describe('If it is a reference to a child node or component within the prefab, targetInfo is needed for positioning'), // 如果是预制体内子节点或组件的引用，需要 targetInfo 来定位
    propertyPath: zod_1.z.array(zod_1.z.string()).describe('').describe('Property path'), // 属性路径
    target: schema_identifier_1.SchemaNodeIdentifier.nullable().describe('Prefab root node of the referenced target node'), // 被引用的目标节点的预制体根节点
    targetInfo: exports.SchemaTargetInfo.nullable().describe('Referenced TargetInfo information, used to locate specifically where'), // 被引用的 TargetInfo 信息，用来定位具体在哪个
}).describe('Target override information'); // 目标重写信息
exports.SchemaPrefab = zod_1.z.object({
    name: zod_1.z.string().describe('Prefab name'), // 预制体名称
    uuid: zod_1.z.string().describe('Prefab UUID'), // 预制体 UUID
    data: schema_identifier_1.SchemaNodeIdentifier.describe('Root node in prefab'), // 预制体中的根节点
    optimizationPolicy: exports.SchemaOptimizationPolicy,
    persistent: zod_1.z.boolean().describe('Whether it is a persistent node'), // 是否为持久节点
}).describe('Prefab'); // 预制体
/** Associated prefab asset information */ // 关联的预制体资源信息
exports.SchemaPrefabInfo = zod_1.z.object({
    asset: exports.SchemaPrefab.optional().describe('Prefab asset information'), // 预制资源信息
    root: schema_identifier_1.SchemaNodeIdentifier.optional().optional().describe('Points to the root node of Prefab'), // 指向 Prefab 的根节点
    instance: exports.SchemaPrefabInstance.optional().describe('Prefab instance object. Presence of this property indicates this node is a prefab instance'), // 预制体实例对象，有这个属性，说明这个节点是预制体实例
    fileId: zod_1.z.string().describe('Uniquely identifies a Node in a Prefab. Some references will look up corresponding nodes via this id'), // 唯一标识一个Prefab中的Node节点，部分引用会通过该id来查找对应节点
    targetOverrides: zod_1.z.array(exports.SchemaTargetOverrideInfo).describe('Records reference relationships to child nodes/components of other prefabs'), // 记录对其它预制体的子节点/组件的引用关系
    nestedPrefabInstanceRoots: zod_1.z.array(schema_identifier_1.SchemaNodeIdentifier).describe('Prefab root node will have this info, recording all nested prefab instance nodes'), // 预制体根节点会有这个信息，记录所有的嵌套预制体实例的节点
}).nullable().describe('Prefab information'); // 预制体信息
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlZmFiLWluZm8tc2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FwaS9zY2VuZS9wcmVmYWItaW5mby1zY2hlbWEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkJBQXdCO0FBQ3hCLGlFQUE0RjtBQUU1Riw2Q0FBNkM7QUFDaEMsUUFBQSx3QkFBd0IsR0FBRyxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLHFFQUFxRSxDQUFDLENBQUMsQ0FBQyxtREFBbUQ7QUFFMUssUUFBQSxnQkFBZ0IsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3JDLE9BQU8sRUFBRSxPQUFDLENBQUMsS0FBSyxDQUFDLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQywwQkFBMEIsQ0FBQyxFQUFFLGlCQUFpQjtDQUN2RixDQUFDLENBQUMsUUFBUSxDQUFDLHFEQUFxRCxDQUFDLENBQUMsQ0FBQyxnQkFBZ0I7QUFFdkUsUUFBQSx5QkFBeUIsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQzlDLFVBQVUsRUFBRSx3QkFBZ0IsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsMEVBQTBFLENBQUMsRUFBRSx1QkFBdUI7SUFDckosS0FBSyxFQUFFLE9BQUMsQ0FBQyxLQUFLLENBQUMsd0NBQW9CLENBQUMsQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsRUFBRSxTQUFTO0NBQ2xGLENBQUMsQ0FBQyxRQUFRLENBQUMsOEJBQThCLENBQUMsQ0FBQyxDQUFDLFdBQVc7QUFFM0MsUUFBQSwwQkFBMEIsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQy9DLFVBQVUsRUFBRSx3QkFBZ0IsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsb0RBQW9ELENBQUMsRUFBRSxtQkFBbUI7SUFDM0gsWUFBWSxFQUFFLE9BQUMsQ0FBQyxLQUFLLENBQUMsT0FBQyxDQUFDLE1BQU0sRUFB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QUMsUUFBUSxDQUFDLGtGQUFrRixDQUFDLEVBQUUsK0JBQStCO0NBQ3pMLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcclxuaW1wb3J0IHsgU2NoZW1hTm9kZUlkZW50aWZpZXIsIFNjaGVtYUNvbXBvbmVudElkZW50aWZpZXIgfSBmcm9tICcuLi9iYXNlL3NjaGVtYS1pZGVudGlmaWVyJztcclxuXHJcbi8vIEZpcnN0IGRlZmluZSBiYXNpYyBzY2hlbWEgLy8g6aaW5YWI5a6a5LmJ5Z+656GAIHNjaGVtYVxyXG5leHBvcnQgY29uc3QgU2NoZW1hT3B0aW1pemF0aW9uUG9saWN5ID0gei5udW1iZXIoKS5kZXNjcmliZSgnT3B0aW1pemF0aW9uIFBvbGljeSwgQVVUTzogMCwgU0lOR0xFX0lOU1RBTkNFOiAxLCBNVUxUSV9JTlNUQU5DRTogMScpOyAvLyDkvJjljJbnrZbnlaXvvIxBVVRPOiAw77yMU0lOR0xFX0lOU1RBTkNFOiAx77yMTVVMVElfSU5TVEFOQ0XvvJoxXHJcblxyXG5leHBvcnQgY29uc3QgU2NoZW1hVGFyZ2V0SW5mbyA9IHoub2JqZWN0KHtcclxuICAgIGxvY2FsSUQ6IHouYXJyYXkoei5zdHJpbmcoKSkuZGVzY3JpYmUoJ0FycmF5IGNvbXBvc2VkIG9mIGZpbGVJZCcpLCAvLyDnlLEgZmlsZUlkIOe7hOaIkOeahOaVsOe7hFxyXG59KS5kZXNjcmliZSgnVXNlZCB0byBkZWZpbmUgdGFyZ2V0IGluZm9ybWF0aW9uIHdpdGhpbiB0aGUgcHJlZmFiJyk7IC8vIOeUqOadpeWumuS5iemihOWItuS9k+WGheebruagh+eahOS/oeaBr1xyXG5cclxuZXhwb3J0IGNvbnN0IFNjaGVtYU1vdW50ZWRDaGlsZHJlbkluZm8gPSB6Lm9iamVjdCh7XHJcbiAgICB0YXJnZXRJbmZvOiBTY2hlbWFUYXJnZXRJbmZvLm51bGxhYmxlKCkuZGVzY3JpYmUoJ1BhcmVudCBub2RlIGluZm8sIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGFjdHVhbCBub2RlIG1vdW50ZWQgaW4gdGhlIHByZWZhYicpLCAvLyDniLboioLngrnkv6Hmga/vvIzlr7nlupTpooTliLbkvZPkuK3ooqvmjILovb3nmoTlrp7pmYXoioLngrlcclxuICAgIG5vZGVzOiB6LmFycmF5KFNjaGVtYU5vZGVJZGVudGlmaWVyKS5kZXNjcmliZSgnTW91bnRlZCBub2RlcyBhcnJheScpLCAvLyDmjILovb3oioLngrnmlbDnu4RcclxufSkuZGVzY3JpYmUoJ01vdW50ZWQgY2hpbGRyZW4gaW5mb3JtYXRpb24nKTsgLy8g5oyC6L2955qE5a2Q6IqC54K55L+h5oGvXHJcblxyXG5leHBvcnQgY29uc3QgU2NoZW1hUHJvcGVydHlPdmVycmlkZUluZm8gPSB6Lm9iamVjdCh7XHJcbiAgICB0YXJnZXRJbmZvOiBTY2hlbWFUYXJnZXRJbmZvLm51bGxhYmxlKCkuZGVzY3JpYmUoJ1RhcmdldCBpbmZvLCB1c2VkIHRvIGZpbmQgdGFyZ2V0IG5vZGUgb3IgY29tcG9uZW50JyksIC8vIOebruagh+S/oeaBr++8jOeUqOS6juafpeaJvuebruagh+iKgueCueaIlue7hOS7tlxyXG4gICAgcHJvcGVydHlQYXRoOiB6LmFycmF5KHouc3RyaW5nKCkpLmRlc2NyaWJlKCdQcm9wZXJ0eSBwYXRoJyksIC8vIOWxnuaAp+eahOi3r+W+hFxyXG4gICAgdmFsdWU6IHouYW55KCkuZGVzY3JpYmUoJ0FjdHVhbCB2YWx1ZSBvZiBwcm9wZXJ0eSB0eXBlJyksIC8vIOWxnuaAp+exu+Wei+eahOWunumZheWAvFxyXG59KS5kZXNjcmliZSgnUmVjb3JkcyBwcm9wZXJ0eSBvdmVycmlkZSBpbmZvcm1hdGlvbiBmb3IgcHJlZmFiIGluc3RhbmNlcycpOyAvLyDorrDlvZXpooTliLbkvZPlrp7kvovlr7nlsZ7mgKfnmoTopobnm5bkv6Hmga9cclxuXHJcbmV4cG9ydCBjb25zdCBTY2hlbWFNb3VudGVkQ29tcG9uZW50c0luZm8gPSB6Lm9iamVjdCh7XHJcbiAgICB0YXJnZXRJbmZvOiBTY2hlbWFUYXJnZXRJbmZvLm51bGxhYmxlKCkuZGVzY3JpYmUoJ1BhcmVudCBub2RlIGluZm8sIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGFjdHVhbCBub2RlIG1vdW50ZWQgaW4gdGhlIHByZWZhYicpLCAvLyDniLboioLngrnkv6Hmga/vvIzlr7nlupTpooTliLbkvZPkuK3ooqvmjILovb3nmoTlrp7pmYXoioLngrlcclxuICAgIGNvbXBvbmVudHM6IHouYXJyYXkoU2NoZW1hQ29tcG9uZW50SWRlbnRpZmllcikuZGVzY3JpYmUoJ01vdW50ZWQgY29tcG9uZW50cyBhcnJheScpLCAvLyDmjILovb3nu4Tku7bmlbDnu4RcclxufSkuZGVzY3JpYmUoJ0luZm9ybWF0aW9uIG9mIGNvbXBvbmVudHMgb24gcHJlZmFiIGluc3RhbmNlIHRoYXQgZG8gbm90IGJlbG9uZyB0byBwcmVmYWIgYXNzZXRzJyk7IC8vIOmihOWItuS9k+WunuS+i+S4iu+8jOS4jeWxnuS6jumihOWItuS9k+i1hOa6kOeahOe7hOS7tueahOS/oeaBr1xyXG5cclxuZXhwb3J0IGNvbnN0IFNjaGVtYVByZWZhYkluc3RhbmNlID0gei5vYmplY3Qoe1xyXG4gICAgZmlsZUlkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdVc2VkIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGEgUHJlZmFiSW5zdGFuY2UsIHVzZWQgZm9yIHByb3BlcnR5T3ZlcnJpZGUgaW5kZXggbG9va3VwJyksIC8vIOeUqOS6juWUr+S4gOagh+ivhuS4gOS4qiBQcmVmYWJJbnN0YW5jZe+8jOeUqOS6jiBwcm9wZXJ0eU92ZXJyaWRlIOeahOe0ouW8leafpeaJvlxyXG4gICAgcHJlZmFiUm9vdE5vZGU6IFNjaGVtYU5vZGVJZGVudGlmaWVyLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ1JlY29yZHMgdGhlIFJvb3Qgbm9kZSBpbmZvIG9mIHRoZSBleHRlcm5hbCBQcmVmYWIgb24gbmVzdGVkIHByZWZhYnMuIEUuZy4gUHJlZmFiQSAtPiBQcmVmYWJCLCB0aGlzIGZpZWxkIG9mIEIgcG9pbnRzIHRvIFByZWZhYkEgbm9kZScpLCAvLyDlnKjltYzlpZfnmoTpooTliLbkvZPkuIrkvJrorrDlvZXlhbblpJbpg6jnmoQgUHJlZmFiIOeahCBSb290IOiKgueCueS/oeaBr+OAguavlOWmgiBQcmVmYWJBIC0+IFByZWZhYkLvvIxCIOeahOi/meS4quWtl+auteWwseaMh+WQkSBQcmVmYWJBIOiKgueCuVxyXG4gICAgbW91bnRlZENoaWxkcmVuOiB6LmFycmF5KFNjaGVtYU1vdW50ZWRDaGlsZHJlbkluZm8pLmRlc2NyaWJlKCdOb2RlIGRhdGEgZXhpc3Rpbmcgb24gcHJlZmFiIGluc3RhbmNlIGJ1dCBub3QgaW4gcHJlZmFiIGFzc2V0cy4gRS5nLiBjcmVhdGluZyBwcmVmYWIgQSwgYWRkaW5nIG5vZGVzIHRvIEEgb3IgaXRzIGNoaWxkcmVuLCB3aWxsIGJlIHJlY29yZGVkIGhlcmUnKSwgLy8g5a2Y5Zyo5LqO6aKE5Yi25L2T5a6e5L6L5LiK55qE77yM5LiN5bGe5LqO6aKE5Yi25L2T6LWE5rqQ5Lit55qE6IqC54K55pWw5o2uLOavlOWmguWIm+W7uumihOWItuS9kyBB77yM5b6AIEEg5oiW5YW25a2Q6IqC54K55LiK77yM5re75Yqg55qE6IqC54K577yM6YO95Lya6K6w5b2V5Zyo6L+Z6YeMXHJcbiAgICBtb3VudGVkQ29tcG9uZW50czogei5hcnJheShTY2hlbWFNb3VudGVkQ29tcG9uZW50c0luZm8pLmRlc2NyaWJlKCdDb21wb25lbnQgZGF0YSBleGlzdGluZyBvbiBwcmVmYWIgaW5zdGFuY2UgYnV0IG5vdCBpbiBwcmVmYWIgYXNzZXRzLiBFLmcuIGNyZWF0aW5nIHByZWZhYiBBLCBhZGRpbmcgY29tcG9uZW50cyB0byBBIG9yIGl0cyBjaGlsZHJlbiwgd2lsbCBiZSByZWNvcmRlZCBoZXJlJyksIC8vIOWtmOWcqOS6jumihOWItuS9k+WunuS+i+S4iueahO+8jOS4jeWxnuS6jumihOWItuS9k+i1hOa6kOS4reeahOe7hOS7tuaVsOaNrizmr5TlpoLliJvlu7rpooTliLbkvZNB77yM5b6AQeaIluWFtuWtkOiKgueCueS4iu+8jOa3u+WKoOeahOe7hOS7tu+8jOmDveS8muiusOW9leWcqOi/memHjFxyXG4gICAgcHJvcGVydHlPdmVycmlkZXM6IHouYXJyYXkoU2NoZW1hUHJvcGVydHlPdmVycmlkZUluZm8pLmRlc2NyaWJlKCdTYXZlcyBhbGwgcHJvcGVydHkgb3ZlcnJpZGUgZGF0YSBmb3IgUHJlZmFiLiBXaGVuIGxvYWRpbmcgcHJlZmFiLCBub2RlcyBhcmUgY3JlYXRlZCBiYXNlZCBvbiBhc3NldHMgZmlyc3QsIHRoZW4gb3ZlcnJpZGRlbiBwcm9wZXJ0aWVzIGFyZSByZXdyaXR0ZW4nKSwgLy8g5L+d5a2Y5omA5pyJ5a+5IFByZWZhYiDnmoTlsZ7mgKfopoblhpnmlbDmja7vvIzpooTliLbkvZPliqDovb3ml7bkvJrlhYjmoLnmja7otYTmupDliJvlu7roioLngrnvvIzlho3mioropobnm5bnmoTlsZ7mgKfph43lhpnmjolcclxuICAgIHJlbW92ZWRDb21wb25lbnRzOiB6LmFycmF5KFNjaGVtYVRhcmdldEluZm8pLmRlc2NyaWJlKCdSZW1vdmVkIGNvbXBvbmVudCBhc3NldHMgYXJyYXkuIFdoZW4gcmVtb3ZpbmcgY29tcG9uZW50cyBvcmlnaW5hbGx5IGluIHByZWZhYiBhc3NldHMsIGRhdGEgaXMgc2F2ZWQgaGVyZS4gSW5zdGVhZCBvZiByZWZlcmVuY2luZyBjb21wb25lbnRzIGRpcmVjdGx5LCBjb21wb25lbnQgbG9jYXRpb24gaXMgcmVjb3JkZWQgdmlhIFRhcmdldEluZm8nKSwgLy8g56e76Zmk55qE57uE5Lu26LWE5rqQ5pWw57uELOaKiumihOWItuS9k+i1hOa6kOWGheWOn+acrOacieeahOe7hOS7tuenu+mZpOaOieaXtu+8jOaVsOaNruS/neWtmOWcqOi/memHjO+8jOS4jeaYr+ebtOaOpeW8leeUqOe7hOS7tu+8jOiAjOaYr+mAmui/hyBUYXJnZXRJbmZvIOiusOW9lee7hOS7tueahOS9jee9rlxyXG59KS5kZXNjcmliZSgnSW5zdGFuY2Ugb2JqZWN0IGNyZWF0ZWQgZnJvbSBwcmVmYWIgYXNzZXRzLCBhYmJyZXZpYXRlZCBhcyBwcmVmYWIgaW5zdGFuY2UnKTsgLy8g6aKE5Yi25L2T6LWE5rqQ5Yib5bu655qE5a6e5L6L5a+56LGh77yM566A56ew6aKE5Yi25L2T5a6e5L6LXHJcblxyXG5leHBvcnQgY29uc3QgU2NoZW1hQ29tcFByZWZhYkluZm8gPSB6Lm9iamVjdCh7XHJcbiAgICBmaWxlSWQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1JlY29yZHMgY29tcG9uZW50IGlkLCB1bmlxdWUgaW4gcHJlZmFiIGZpbGU7IHVzZWQgd2hlbiBsb29raW5nIHVwIGNvbXBvbmVudCB2aWEgdGFyZ2V0SW5mbycpLCAvLyDorrDlvZXnu4Tku7bnmoQgaWTvvIzlnKjpooTliLbkvZPmlofku7bkuK3llK/kuIDvvJvnlKjkuo4gdGFyZ2V0SW5mbyDmn6Xmib7nu4Tku7bml7bkvb/nlKhcclxufSkuZGVzY3JpYmUoJ0NvbXBvbmVudCBwcmVmYWIgaW5mb3JtYXRpb24nKTsgLy8g57uE5Lu26aKE5Yi25L2T5L+h5oGvXHJcblxyXG5leHBvcnQgY29uc3QgU2NoZW1hVGFyZ2V0T3ZlcnJpZGVJbmZvID0gei5vYmplY3Qoe1xyXG4gICAgc291cmNlOiB6LnVuaW9uKFtTY2hlbWFDb21wb25lbnRJZGVudGlmaWVyLCBTY2hlbWFOb2RlSWRlbnRpZmllciwgei5udWxsKCldKS5kZXNjcmliZSgnUmVmZXJlbmNlZCBub2RlIG9yIGNvbXBvbmVudCcpLCAvLyDlvJXnlKjnmoToioLngrnmiJbnu4Tku7ZcclxuICAgIHNvdXJjZUluZm86IFNjaGVtYVRhcmdldEluZm8ubnVsbGFibGUoKS5kZXNjcmliZSgnSWYgaXQgaXMgYSByZWZlcmVuY2UgdG8gYSBjaGlsZCBub2RlIG9yIGNvbXBvbmVudCB3aXRoaW4gdGhlIHByZWZhYiwgdGFyZ2V0SW5mbyBpcyBuZWVkZWQgZm9yIHBvc2l0aW9uaW5nJyksIC8vIOWmguaenOaYr+mihOWItuS9k+WGheWtkOiKgueCueaIlue7hOS7tueahOW8leeUqO+8jOmcgOimgSB0YXJnZXRJbmZvIOadpeWumuS9jVxyXG4gICAgcHJvcGVydHlQYXRoOiB6LmFycmF5KHouc3RyaW5nKCkpLmRlc2NyaWJlKCcnKS5kZXNjcmliZSgnUHJvcGVydHkgcGF0aCcpLCAvLyDlsZ7mgKfot6/lvoRcclxuICAgIHRhcmdldDogU2NoZW1hTm9kZUlkZW50aWZpZXIubnVsbGFibGUoKS5kZXNjcmliZSgnUHJlZmFiIHJvb3Qgbm9kZSBvZiB0aGUgcmVmZXJlbmNlZCB0YXJnZXQgbm9kZScpLCAvLyDooqvlvJXnlKjnmoTnm67moIfoioLngrnnmoTpooTliLbkvZPmoLnoioLngrlcclxuICAgIHRhcmdldEluZm86IFNjaGVtYVRhcmdldEluZm8ubnVsbGFibGUoKS5kZXNjcmliZSgnUmVmZXJlbmNlZCBUYXJnZXRJbmZvIGluZm9ybWF0aW9uLCB1c2VkIHRvIGxvY2F0ZSBzcGVjaWZpY2FsbHkgd2hlcmUnKSwgLy8g6KKr5byV55So55qEIFRhcmdldEluZm8g5L+h5oGv77yM55So5p2l5a6a5L2N5YW35L2T5Zyo5ZOq5LiqXHJcbn0pLmRlc2NyaWJlKCdUYXJnZXQgb3ZlcnJpZGUgaW5mb3JtYXRpb24nKTsgLy8g55uu5qCH6YeN5YaZ5L+h5oGvXHJcblxyXG5leHBvcnQgY29uc3QgU2NoZW1hUHJlZmFiID0gei5vYmplY3Qoe1xyXG4gICAgbmFtZTogei5zdHJpbmcoKS5kZXNjcmliZSgnUHJlZmFiIG5hbWUnKSwgLy8g6aKE5Yi25L2T5ZCN56ewXHJcbiAgICB1dWlkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdQcmVmYWIgVVVJRCcpLCAvLyDpooTliLbkvZMgVVVJRFxyXG4gICAgZGF0YTogU2NoZW1hTm9kZUlkZW50aWZpZXIuZGVzY3JpYmUoJ1Jvb3Qgbm9kZSBpbiBwcmVmYWInKSwgLy8g6aKE5Yi25L2T5Lit55qE5qC56IqC54K5XHJcbiAgICBvcHRpbWl6YXRpb25Qb2xpY3k6IFNjaGVtYU9wdGltaXphdGlvblBvbGljeSxcclxuICAgIHBlcnNpc3RlbnQ6IHouYm9vbGVhbigpLmRlc2NyaWJlKCdXaGV0aGVyIGl0IGlzIGEgcGVyc2lzdGVudCBub2RlJyksIC8vIOaYr+WQpuS4uuaMgeS5heiKgueCuVxyXG59KS5kZXNjcmliZSgnUHJlZmFiJyk7IC8vIOmihOWItuS9k1xyXG5cclxuLyoqIEFzc29jaWF0ZWQgcHJlZmFiIGFzc2V0IGluZm9ybWF0aW9uICovIC8vIOWFs+iBlOeahOmihOWItuS9k+i1hOa6kOS/oeaBr1xyXG5leHBvcnQgY29uc3QgU2NoZW1hUHJlZmFiSW5mbyA9IHoub2JqZWN0KHtcclxuICAgIGFzc2V0OiBTY2hlbWFQcmVmYWIub3B0aW9uYWwoKS5kZXNjcmliZSgnUHJlZmFiIGFzc2V0IGluZm9ybWF0aW9uJyksIC8vIOmihOWItui1hOa6kOS/oeaBr1xyXG4gICAgcm9vdDogU2NoZW1hTm9kZUlkZW50aWZpZXIub3B0aW9uYWwoKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdQb2ludHMgdG8gdGhlIHJvb3Qgbm9kZSBvZiBQcmVmYWInKSwgLy8g5oyH5ZCRIFByZWZhYiDnmoTmoLnoioLngrlcclxuICAgIGluc3RhbmNlOiBTY2hlbWFQcmVmYWJJbnN0YW5jZS5vcHRpb25hbCgpLmRlc2NyaWJlKCdQcmVmYWIgaW5zdGFuY2Ugb2JqZWN0LiBQcmVzZW5jZSBvZiB0aGlzIHByb3BlcnR5IGluZGljYXRlcyB0aGlzIG5vZGUgaXMgYSBwcmVmYWIgaW5zdGFuY2UnKSwgLy8g6aKE5Yi25L2T5a6e5L6L5a+56LGh77yM5pyJ6L+Z5Liq5bGe5oCn77yM6K+05piO6L+Z5Liq6IqC54K55piv6aKE5Yi25L2T5a6e5L6LXHJcbiAgICBmaWxlSWQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1VuaXF1ZWx5IGlkZW50aWZpZXMgYSBOb2RlIGluIGEgUHJlZmFiLiBTb21lIHJlZmVyZW5jZXMgd2lsbCBsb29rIHVwIGNvcnJlc3BvbmRpbmcgbm9kZXMgdmlhIHRoaXMgaWQnKSwgLy8g5ZSv5LiA5qCH6K+G5LiA5LiqUHJlZmFi5Lit55qETm9kZeiKgueCue+8jOmDqOWIhuW8leeUqOS8mumAmui/h+ivpWlk5p2l5p+l5om+5a+55bqU6IqC54K5XHJcbiAgICB0YXJnZXRPdmVycmlkZXM6IHouYXJyYXkoU2NoZW1hVGFyZ2V0T3ZlcnJpZGVJbmZvKS5kZXNjcmliZSgnUmVjb3JkcyByZWZlcmVuY2UgcmVsYXRpb25zaGlwcyB0byBjaGlsZCBub2Rlcy9jb21wb25lbnRzIG9mIG90aGVyIHByZWZhYnMnKSwgLy8g6K6w5b2V5a+55YW25a6D6aKE5Yi25L2T55qE5a2Q6IqC54K5L+e7hOS7tueahOW8leeUqOWFs+ezu1xyXG4gICAgbmVzdGVkUHJlZmFiSW5zdGFuY2VSb290czogei5hcnJheShTY2hlbWFOb2RlSWRlbnRpZmllcikuZGVzY3JpYmUoJ1ByZWZhYiByb290IG5vZGUgd2lsbCBoYXZlIHRoaXMgaW5mbywgcmVjb3JkaW5nIGFsbCBuZXN0ZWQgcHJlZmFiIGluc3RhbmNlIG5vZGVzJyksIC8vIOmihOWItuS9k+agueiKgueCueS8muaciei/meS4quS/oeaBr++8jOiusOW9leaJgOacieeahOW1jOWll+mihOWItuS9k+WunuS+i+eahOiKgueCuVxyXG59KS5udWxsYWJsZSgpLmRlc2NyaWJlKCdQcmVmYWIgaW5mb3JtYXRpb24nKTsgLy8g6aKE5Yi25L2T5L+h5oGvXHJcbiJdfQ==