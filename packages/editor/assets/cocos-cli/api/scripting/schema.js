"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SchemaLoaderContext = exports.SchemaScriptInfoResult = exports.SchemaCompileResult = exports.SchemaScriptInfo = exports.SchemaScriptUUID = exports.SchemaCompileTarget = void 0;
/**
 * @zh 脚本编译 API Schema
 * @en Scripting API Schema
 */
const zod_1 = require("zod");
/**
 * @zh 编译脚本的目标类型
 * @en Compile script target type
 */
exports.SchemaCompileTarget = zod_1.z.enum(['editor', 'preview']).describe('Target type for script compilation. "editor" for editor viewport, "preview" for preview mode.');
/**
 * @zh 脚本 UUID
 * @en Script UUID
 */
exports.SchemaScriptUUID = zod_1.z.string().describe('UUID of the script asset to query');
/**
 * @zh 脚本信息
 * @en Script info
 */
exports.SchemaScriptInfo = zod_1.z.object({
    uuid: zod_1.z.string().describe('Script UUID'),
    cid: zod_1.z.string().describe('Compressed class ID'),
    name: zod_1.z.string().describe('Script name/class name'),
    path: zod_1.z.string().describe('Script file path'),
});
/**
 * @zh 编译脚本结果
 * @en Compile scripts result
 */
exports.SchemaCompileResult = zod_1.z.object({
    success: zod_1.z.boolean().describe('Whether compilation was successful'),
    code: zod_1.z.string().optional().describe('Compiled JavaScript code as a single bundle'),
    scriptInfos: zod_1.z.array(exports.SchemaScriptInfo).optional().describe('Information about compiled scripts'),
    error: zod_1.z.string().optional().describe('Error message if compilation failed'),
}).describe('Script compilation result');
/**
 * @zh 脚本信息结果
 * @en Script info result
 */
exports.SchemaScriptInfoResult = zod_1.z.object({
    uuid: zod_1.z.string().describe('Script UUID'),
    cid: zod_1.z.string().nullable().describe('Compressed class ID'),
    name: zod_1.z.string().nullable().describe('Script name/class name'),
}).nullable().describe('Script information');
/**
 * @zh 脚本加载器上下文
 * @en Script loader context
 */
exports.SchemaLoaderContext = zod_1.z.object({
    modules: zod_1.z.record(zod_1.z.string()).describe('Module mapping'),
    importMap: zod_1.z.any().optional().describe('Import map for module resolution'),
}).nullable().describe('Loader context for script execution');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FwaS9zY3JpcHRpbmcvc2NoZW1hLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBOzs7R0FHRztBQUNILDZCQUF3QjtBQUV4Qjs7O0dBR0c7QUFDVSxRQUFBLG1CQUFtQixHQUFHLE9BQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQ3JFLCtGQUErRixDQUNsRyxDQUFDO0FBR0Y7OztHQUdHO0FBQ1UsUUFBQSxnQkFBZ0IsR0FBRyxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUMvQyxtQ0FBbUMsQ0FDdEMsQ0FBQztBQUdGOzs7R0FHRztBQUNVLFFBQUEsZ0JBQWdCLEdBQUcsT0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNyQyxJQUFJLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUM7SUFDeEMsR0FBRyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUM7SUFDL0MsSUFBSSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsd0JBQXdCLENBQUM7SUFDbkQsSUFBSSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUM7Q0FDaEQsQ0FBQyxDQUFDO0FBR0g7OztHQUdHO0FBQ1UsUUFBQSxtQkFBbUIsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3hDLE9BQU8sRUFBRSxPQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsUUFBUSxDQUFDLG9DQUFvQyxDQUFDO0lBQ25FLElBQUksRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLDZDQUE2QyxDQUFDO0lBQ25GLFdBQVcsRUFBRSxPQUFDLENBQUMsS0FBSyxDQUFDLHdCQUFnQixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLG9DQUFvQyxDQUFDO0lBQ2hHLEtBQUssRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLHFDQUFxQyxDQUFDO0NBQy9FLENBQUMsQ0FBQyxRQUFRLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUd6Qzs7O0dBR0c7QUFDVSxRQUFBLHNCQUFzQixHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDM0MsSUFBSSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDO0lBQ3hDLEdBQUcsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDO0lBQzFELElBQUksRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLHdCQUF3QixDQUFDO0NBQ2pFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsQ0FBQztBQUc3Qzs7O0dBR0c7QUFDVSxRQUFBLG1CQUFtQixHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDeEMsT0FBTyxFQUFFLE9BQUMsQ0FBQyxNQUFNLENBQUMsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDO0lBQ3hELFNBQVMsRUFBRSxPQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLGtDQUFrQyxDQUFDO0NBQzdFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMscUNBQXFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHpoIOiEmuacrOe8luivkSBBUEkgU2NoZW1hXG4gKiBAZW4gU2NyaXB0aW5nIEFQSSBTY2hlbWFcbiAqL1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbi8qKlxuICogQHpoIOe8luivkeiEmuacrOeahOebruagh+exu+Wei1xuICogQGVuIENvbXBpbGUgc2NyaXB0IHRhcmdldCB0eXBlXG4gKi9cbmV4cG9ydCBjb25zdCBTY2hlbWFDb21waWxlVGFyZ2V0ID0gei5lbnVtKFsnZWRpdG9yJywgJ3ByZXZpZXcnXSkuZGVzY3JpYmUoXG4gICAgJ1RhcmdldCB0eXBlIGZvciBzY3JpcHQgY29tcGlsYXRpb24uIFwiZWRpdG9yXCIgZm9yIGVkaXRvciB2aWV3cG9ydCwgXCJwcmV2aWV3XCIgZm9yIHByZXZpZXcgbW9kZS4nXG4pO1xuZXhwb3J0IHR5cGUgVENvbXBpbGVUYXJnZXQgPSB6LmluZmVyPHR5cGVvZiBTY2hlbWFDb21waWxlVGFyZ2V0PjtcblxuLyoqXG4gKiBAemgg6ISa5pysIFVVSURcbiAqIEBlbiBTY3JpcHQgVVVJRFxuICovXG5leHBvcnQgY29uc3QgU2NoZW1hU2NyaXB0VVVJRCA9IHouc3RyaW5nKCkuZGVzY3JpYmUoXG4gICAgJ1VVSUQgb2YgdGhlIHNjcmlwdCBhc3NldCB0byBxdWVyeSdcbik7XG5leHBvcnQgdHlwZSBUU2NyaXB0VVVJRCA9IHouaW5mZXI8dHlwZW9mIFNjaGVtYVNjcmlwdFVVSUQ+O1xuXG4vKipcbiAqIEB6aCDohJrmnKzkv6Hmga9cbiAqIEBlbiBTY3JpcHQgaW5mb1xuICovXG5leHBvcnQgY29uc3QgU2NoZW1hU2NyaXB0SW5mbyA9IHoub2JqZWN0KHtcbiAgICB1dWlkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdTY3JpcHQgVVVJRCcpLFxuICAgIGNpZDogei5zdHJpbmcoKS5kZXNjcmliZSgnQ29tcHJlc3NlZCBjbGFzcyBJRCcpLFxuICAgIG5hbWU6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1NjcmlwdCBuYW1lL2NsYXNzIG5hbWUnKSxcbiAgICBwYXRoOiB6LnN0cmluZygpLmRlc2NyaWJlKCdTY3JpcHQgZmlsZSBwYXRoJyksXG59KTtcbmV4cG9ydCB0eXBlIFRTY3JpcHRJbmZvID0gei5pbmZlcjx0eXBlb2YgU2NoZW1hU2NyaXB0SW5mbz47XG5cbi8qKlxuICogQHpoIOe8luivkeiEmuacrOe7k+aenFxuICogQGVuIENvbXBpbGUgc2NyaXB0cyByZXN1bHRcbiAqL1xuZXhwb3J0IGNvbnN0IFNjaGVtYUNvbXBpbGVSZXN1bHQgPSB6Lm9iamVjdCh7XG4gICAgc3VjY2Vzczogei5ib29sZWFuKCkuZGVzY3JpYmUoJ1doZXRoZXIgY29tcGlsYXRpb24gd2FzIHN1Y2Nlc3NmdWwnKSxcbiAgICBjb2RlOiB6LnN0cmluZygpLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ0NvbXBpbGVkIEphdmFTY3JpcHQgY29kZSBhcyBhIHNpbmdsZSBidW5kbGUnKSxcbiAgICBzY3JpcHRJbmZvczogei5hcnJheShTY2hlbWFTY3JpcHRJbmZvKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdJbmZvcm1hdGlvbiBhYm91dCBjb21waWxlZCBzY3JpcHRzJyksXG4gICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5kZXNjcmliZSgnRXJyb3IgbWVzc2FnZSBpZiBjb21waWxhdGlvbiBmYWlsZWQnKSxcbn0pLmRlc2NyaWJlKCdTY3JpcHQgY29tcGlsYXRpb24gcmVzdWx0Jyk7XG5leHBvcnQgdHlwZSBUQ29tcGlsZVJlc3VsdCA9IHouaW5mZXI8dHlwZW9mIFNjaGVtYUNvbXBpbGVSZXN1bHQ+O1xuXG4vKipcbiAqIEB6aCDohJrmnKzkv6Hmga/nu5PmnpxcbiAqIEBlbiBTY3JpcHQgaW5mbyByZXN1bHRcbiAqL1xuZXhwb3J0IGNvbnN0IFNjaGVtYVNjcmlwdEluZm9SZXN1bHQgPSB6Lm9iamVjdCh7XG4gICAgdXVpZDogei5zdHJpbmcoKS5kZXNjcmliZSgnU2NyaXB0IFVVSUQnKSxcbiAgICBjaWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5kZXNjcmliZSgnQ29tcHJlc3NlZCBjbGFzcyBJRCcpLFxuICAgIG5hbWU6IHouc3RyaW5nKCkubnVsbGFibGUoKS5kZXNjcmliZSgnU2NyaXB0IG5hbWUvY2xhc3MgbmFtZScpLFxufSkubnVsbGFibGUoKS5kZXNjcmliZSgnU2NyaXB0IGluZm9ybWF0aW9uJyk7XG5leHBvcnQgdHlwZSBUU2NyaXB0SW5mb1Jlc3VsdCA9IHouaW5mZXI8dHlwZW9mIFNjaGVtYVNjcmlwdEluZm9SZXN1bHQ+O1xuXG4vKipcbiAqIEB6aCDohJrmnKzliqDovb3lmajkuIrkuIvmlodcbiAqIEBlbiBTY3JpcHQgbG9hZGVyIGNvbnRleHRcbiAqL1xuZXhwb3J0IGNvbnN0IFNjaGVtYUxvYWRlckNvbnRleHQgPSB6Lm9iamVjdCh7XG4gICAgbW9kdWxlczogei5yZWNvcmQoei5zdHJpbmcoKSkuZGVzY3JpYmUoJ01vZHVsZSBtYXBwaW5nJyksXG4gICAgaW1wb3J0TWFwOiB6LmFueSgpLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ0ltcG9ydCBtYXAgZm9yIG1vZHVsZSByZXNvbHV0aW9uJyksXG59KS5udWxsYWJsZSgpLmRlc2NyaWJlKCdMb2FkZXIgY29udGV4dCBmb3Igc2NyaXB0IGV4ZWN1dGlvbicpO1xuZXhwb3J0IHR5cGUgVExvYWRlckNvbnRleHQgPSB6LmluZmVyPHR5cGVvZiBTY2hlbWFMb2FkZXJDb250ZXh0PjtcbiJdfQ==